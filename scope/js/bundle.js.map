{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/events/events.js","scope-src/BackgroundView.js","scope-src/ChannelView.js","scope-src/ControlView.js","scope-src/Model.js","scope-src/SliderView.js","scope-src/View.js","scope-src/main.js","scope-src/scope-browser.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","'use strict';\nvar View = require('./View');\n\nclass BackgroundView extends View{\n\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\tvar saveCanvas =  document.getElementById('saveCanvas');\n\t\tthis.canvas = document.getElementById('scopeBG');\n\t\tsaveCanvas.addEventListener('click', () => {\n\t\t\tthis.canvas.getContext('2d').drawImage(document.getElementById('scope'), 0, 0);\n\t\t\tsaveCanvas.href = this.canvas.toDataURL();\n\t\t\tthis.repaintBG();\n\t\t});\n\t}\n\t\n\trepaintBG(xTime, data){\n\t\tvar canvas = this.canvas;\n\t\tcanvas.width = window.innerWidth;\n\t\tcanvas.height = window.innerHeight;\n\t\tvar ctx = canvas.getContext('2d');\n\t\tctx.rect(0, 0, canvas.width, canvas.height);\n\t\tctx.fillStyle=\"white\";\n\t\tctx.fill();\n\t\t//ctx.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\n\t\tif (data.plotMode == 1){\n\t\t\tthis.FFTBG(canvas, ctx, data);\n\t\t\treturn;\n\t\t}\n\n\t\tvar xPixels = xTime*this.models[0].getKey('sampleRate')/1000;\n\t\tvar numVLines = Math.floor(canvas.width/xPixels);\n\t\tvar mspersample = xTime*data.downSampling/data.upSampling;\n\t\t\n\t\t//console.log(xTime);\n\n\t\t//faint lines\n\t\tctx.strokeStyle = '#000000';\n\t\tctx.fillStyle=\"grey\";\n\t\tctx.font = \"14px inconsolata\";\n\t\tctx.textAlign = \"center\";\n\t\tctx.lineWidth = 0.2;\n\t\tctx.setLineDash([]);\n\t\tctx.beginPath();\n\t\tctx.fillText(0, canvas.width/2, canvas.height/2+11);\n\t\tfor (var i=1; i<numVLines; i++){\n\t\t\tctx.moveTo(canvas.width/2 + i*xPixels, 0);\n\t\t\tctx.lineTo(canvas.width/2 + i*xPixels, canvas.height);\n\t\t\tctx.fillText((i*mspersample).toPrecision(2), canvas.width/2 + i*xPixels, canvas.height/2+11);\n\t\t\tctx.moveTo(canvas.width/2 - i*xPixels, 0);\n\t\t\tctx.lineTo(canvas.width/2 - i*xPixels, canvas.height);\n\t\t\tctx.fillText((-i*mspersample).toPrecision(2), canvas.width/2 - i*xPixels, canvas.height/2+11);\n\t\t}\n\t\t\n\t\tvar numHLines = 6;\n\t\tfor (var i=1; i<numHLines; i++){\n\t\t\tif (i != numHLines/2){\n\t\t\t\tctx.moveTo(0, canvas.height*i/numHLines);\n\t\t\t\tctx.lineTo(canvas.width, canvas.height*i/numHLines);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//ticks\n\t\tvar numTicks = 10;\n\t\tvar tickSize;\n\t\tfor (var i=0; i<numVLines; i++){\n\t\t\tfor (var j=1; j<numTicks; j++){\n\t\t\t\ttickSize = 7;\n\t\t\t\tif (j === Math.floor(numTicks/2)){\n\t\t\t\t\ttickSize = 10;\n\t\t\t\t}\n\t\t\t\tctx.moveTo(canvas.width/2 + i*xPixels + xPixels*j/numTicks, canvas.height/2 + tickSize);\n\t\t\t\tctx.lineTo(canvas.width/2 + i*xPixels + xPixels*j/numTicks, canvas.height/2 - tickSize);\n\t\t\t\tif (i){\n\t\t\t\t\tctx.moveTo(canvas.width/2 - i*xPixels + xPixels*j/numTicks, canvas.height/2 + tickSize);\n\t\t\t\t\tctx.lineTo(canvas.width/2 - i*xPixels + xPixels*j/numTicks, canvas.height/2 - tickSize);\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\t\t\n\t\tnumTicks = 10;\n\t\tfor (var i=0; i<numHLines; i++){\n\t\t\tfor (var j=1; j<numTicks; j++){\n\t\t\t\ttickSize = 7;\n\t\t\t\tif (j === Math.floor(numTicks/2)){\n\t\t\t\t\ttickSize = 10;\n\t\t\t\t}\n\t\t\t\tctx.moveTo(canvas.width/2 - tickSize, canvas.height*i/numHLines + canvas.height*j/(numTicks*numHLines));\n\t\t\t\tctx.lineTo(canvas.width/2 + tickSize, canvas.height*i/numHLines + canvas.height*j/(numTicks*numHLines));\n\t\t\t}\n\t\t}\t\n\t\tctx.stroke();\n\t\t\n\t\t//dashed lines\n\t\tctx.beginPath();\n\t\tctx.setLineDash([2, 5]);\n\t\t\n\t\tctx.moveTo(0, canvas.height*3/4);\n\t\tctx.lineTo(canvas.width, canvas.height*3/4);\n\t\tctx.moveTo(0, canvas.height*1/4);\n\t\tctx.lineTo(canvas.width, canvas.height*1/4);\n\t\t\n\t\tctx.stroke();\t\n\t\tctx.setLineDash([]);\t\n\t\t\n\t\t//fat lines\n\t\tctx.lineWidth = 1;\n\t\tctx.beginPath();\n\t\tvar numVLines = 2;\n\t\tfor (var i=0; i<=numVLines; i++){\n\t\t\tctx.moveTo(canvas.width*i/numVLines, 0);\n\t\t\tctx.lineTo(canvas.width*i/numVLines, canvas.height);\n\t\t}\n\t\t\n\t\tvar numHLines = 2;\n\t\tfor (var i=0; i<=numHLines; i++){\n\t\t\tctx.moveTo(0, canvas.height*i/numHLines);\n\t\t\tctx.lineTo(canvas.width, canvas.height*i/numHLines);\n\t\t}\n\t\t\n\t\tctx.stroke();\n\t\t\n\t\t//trigger line\n\t\t/*ctx.strokeStyle = '#0000ff';\n\t\tctx.lineWidth = 0.2;\n\t\tctx.beginPath();\n\t\tctx.moveTo(0, (canvas.height/2)*(1-(this.yOffset+this.triggerLevel)/this.yAmplitude) );\n\t\tctx.lineTo(canvas.width, (canvas.height/2)*(1-(this.yOffset+this.triggerLevel)/this.yAmplitude) );\n\t\tctx.stroke();*/\n\t}\n\t\n\tFFTBG(canvas, ctx, data){\n\t\t\n\t\tvar numVlines = 10;\n\t\t\n\t\t//faint lines\n\t\tctx.strokeStyle = '#000000';\n\t\tctx.fillStyle=\"grey\";\n\t\tctx.font = \"14px inconsolata\";\n\t\tctx.textAlign = \"center\";\n\t\tctx.lineWidth = 0.3;\n\t\tctx.setLineDash([]);\n\t\tctx.beginPath();\n\t\t\t\t\n\t\tfor (var i=0; i <= numVlines; i++){\n\t\t\tctx.moveTo(i*window.innerWidth/numVlines, 0);\n\t\t\tctx.lineTo(i*window.innerWidth/numVlines, canvas.height);\n\t\t\tif (i && i !== numVlines){\n\t\t\t\tvar val;\n\t\t\t\tif (parseInt(this.models[0].getKey('FFTXAxis')) === 0){\t// linear x axis\n\t\t\t\t\tval = ((i*this.models[0].getKey('sampleRate')/(numVlines*2))*data.upSampling/data.downSampling).toFixed(0);\n\t\t\t\t\t//console.log(val);\n\t\t\t\t} else {\n\t\t\t\t\tval = (Math.pow(Math.E, -(Math.log(1/window.innerWidth))*i/numVlines) * (this.models[0].getKey('sampleRate')/(2*window.innerWidth)) * (data.upSampling/data.downSampling)).toFixed(0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tctx.fillText(val, i*window.innerWidth/numVlines, canvas.height-2);\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar numHLines = 6;\n\t\tfor (var i=1; i<numHLines; i++){\n\t\t\tctx.moveTo(0, canvas.height*i/numHLines);\n\t\t\tctx.lineTo(canvas.width, canvas.height*i/numHLines);\n\t\t}\n\t\t\n\t\tctx.stroke();\n\t\t\n\t\t//fat lines\n\t\tctx.lineWidth = 1;\n\t\tctx.beginPath();\n\n\t\tctx.moveTo(0, 0);\n\t\tctx.lineTo(0, canvas.height);\n\n\t\tctx.moveTo(0, canvas.height);\n\t\tctx.lineTo(canvas.width, canvas.height);\n\t\t\t\n\t\tctx.stroke();\n\t}\n\t\n\t__xTimeBase(value, data){\n\t\t//console.log(value);\n\t\tthis.repaintBG(value, data);\n\t}\n\t\n\t_plotMode(value, data){\n\t\tthis.repaintBG(data.xTimeBase, data);\n\t}\n\t_FFTXAxis(value, data){\n\t\tthis.repaintBG(data.xTimeBase, data);\n\t}\n\t\n\t_upSampling(value, data){\n\t\tthis.repaintBG(data.xTimeBase, data);\n\t}\n\t_downSampling(value, data){\n\t\tthis.repaintBG(data.xTimeBase, data);\n\t}\n\t\n\t_triggerLevel(value, data){\n\t\t//console.log(value, data);\n\t}\n\t\n}\n\nmodule.exports = BackgroundView;\n","'use strict';\nvar View = require('./View');\n\nfunction ChannelConfig(){\n\tthis.yAmplitude = 1;\n\tthis.yOffset = 0;\n\tthis.color = '#ff0000';\n}\n\nvar channelConfig = [new ChannelConfig()];\nvar colours = ['#ff0000', '#0000ff', '#00ff00', '#ffff00', '#00ffff', '#ff00ff'];\n\nvar tdGainVal = 1, tdOffsetVal = 0, tdGainMin = 0, tdGainMax = 10, tdOffsetMin = -5, tdOffsetMax = 5;\nvar FFTNGainVal = 1, FFTNOffsetVal = -0.005, FFTNGainMin = 0, FFTNGainMax = 10, FFTNOffsetMin = -1, FFTNOffsetMax = 1;\nvar FFTDGainVal = 70, FFTDOffsetVal = 69, FFTDGainMin = 0, FFTDGainMax = 1000, FFTDOffsetMin = 0, FFTDOffsetMax = 100;\n\nclass ChannelView extends View{\n\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t}\n\t\n\t// UI events\n\tinputChanged($element, e){\n\t\tvar key = $element.data().key;\n\t\tvar channel = $element.data().channel;\n\t\tvar value = (key === 'color') ? $element.val() : parseFloat($element.val());\n\t\tif (!(key === 'color') && isNaN(value)) return;\n\t\tif (key === 'yAmplitude' && value == 0) value = 0.001; // prevent amplitude hitting zero\n\t\tthis.$elements.not($element).filterByData('key', key).filterByData('channel', channel).val(value);\n\t\tchannelConfig[channel][key] = value;\n\t\tthis.emit('channelConfig', channelConfig);\n\t}\n\t\n\tsetChannelGains(value, min, max){\n\t\tthis.$elements.filterByData('key', 'yAmplitude').not('input[type=number]').prop('min', min).prop('max', max);\n\t\tthis.$elements.filterByData('key', 'yAmplitude').val(value);\n\t\tfor (let item of channelConfig){\n\t\t\titem.yAmplitude = value;\n\t\t}\n\t\tthis.emit('channelConfig', channelConfig);\n\t\tconsole.log(value, this.$elements.filterByData('key', 'yAmplitude').val());\n\t}\n\tsetChannelOffsets(value, min, max){\n\t\tthis.$elements.filterByData('key', 'yOffset').not('input[type=number]').prop('min', min).prop('max', max);\n\t\tthis.$elements.filterByData('key', 'yOffset').val(value);\n\t\tfor (let item of channelConfig){\n\t\t\titem.yOffset = value;\n\t\t}\n\t\tthis.emit('channelConfig', channelConfig);\n\t}\n\t\n\tresetAll(){\n\t\tfor (let i=0; i<channelConfig.length; i++){\n\t\t\tthis.$elements.filterByData('key', 'yAmplitude').filterByData('channel', i).val(channelConfig[i].yAmplitude);\n\t\t\tthis.$elements.filterByData('key', 'yOffset').filterByData('channel', i).val(channelConfig[i].yOffset);\n\t\t}\n\t}\n\t\n\t_numChannels(val){\n\t\tvar numChannels = val;\n\t\tif (numChannels < channelConfig.length){\n\t\t\twhile(numChannels < channelConfig.length){\n\t\t\t\t$('#channelViewChannel'+(channelConfig.length)).remove();\n\t\t\t\tchannelConfig.pop();\n\t\t\t}\n\t\t} else if (numChannels > channelConfig.length){\n\t\t\twhile(numChannels > channelConfig.length){\n\t\t\t\tchannelConfig.push(new ChannelConfig());\n\t\t\t\tchannelConfig[channelConfig.length-1].color = colours[(channelConfig.length-1)%colours.length];\n\t\t\t\tvar el = $('#channelViewChannel0')\n\t\t\t\t\t.clone(true)\n\t\t\t\t\t.prop('id', 'channelViewChannel'+(channelConfig.length))\n\t\t\t\t\t.appendTo($('#channelColumn'));\n\t\t\t\tel.find('h1').html('Channel '+(channelConfig.length));\n\t\t\t\tel.find('input').each(function(){\n\t\t\t\t\t$(this).data('channel', channelConfig.length-1)\n\t\t\t\t});\n\t\t\t\tel.find('input[type=color]').val(colours[(channelConfig.length-1)%colours.length]);\n\t\t\t}\n\t\t}\n\t\tthis.emit('channelConfig', channelConfig);\n\t\tthis.$elements = $('.'+this.className);\n\t}\n\t\n\t_plotMode(val, data){\n\n\t\tif (val == 0){\t// time domain\n\t\t\n\t\t\tthis.setChannelGains(tdGainVal, tdGainMin, tdGainMax);\n\t\t\tthis.setChannelOffsets(tdOffsetVal, tdOffsetMin, tdOffsetMax);\n\t\t\t\t\n\t\t} else {\t// FFT\n\n\t\t\tif (data.FFTYAxis == 0){\t// normalised\n\n\t\t\t\tthis.setChannelGains(FFTNGainVal, FFTNGainMin, FFTNGainMax);\n\t\t\t\tthis.setChannelOffsets(FFTNOffsetVal, FFTNOffsetMin, FFTNOffsetMax);\n\n\t\t\t} else {\t// decibels\n\n\t\t\t\tthis.setChannelGains(FFTDGainVal, FFTDGainMin, FFTDGainMax);\n\t\t\t\tthis.setChannelOffsets(FFTDOffsetVal, FFTDOffsetMin, FFTDOffsetMax);\n\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t}\n\t_FFTYAxis(val, data){\n\n\t\tif (data.plotMode == 1){\n\t\t\n\t\t\tif (val == 0){\t// normalised\n\t\t\n\t\t\t\tthis.setChannelGains(FFTNGainVal, FFTNGainMin, FFTNGainMax);\n\t\t\t\tthis.setChannelOffsets(FFTNOffsetVal, FFTNOffsetMin, FFTNOffsetMax);\n\n\t\t\t} else {\t// decibels\n\n\t\t\t\tthis.setChannelGains(FFTDGainVal, FFTDGainMin, FFTDGainMax);\n\t\t\t\tthis.setChannelOffsets(FFTDOffsetVal, FFTDOffsetMin, FFTDOffsetMax);\n\t\t\t\n\t\t\t}\n\t\t\n\t\t}\n\t\t\n\t}\n\t\n}\n\nmodule.exports = ChannelView;\n\n$.fn.filterByData = function(prop, val) {\n    return this.filter(\n        function() { return $(this).data(prop)==val; }\n    );\n}","'use strict';\nvar View = require('./View');\n\nvar xTime, sampleRate, upSampling, downSampling\n\nclass ControlView extends View{\n\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\t$('#controlsButton').click(() => this.$parents.toggleClass('hidden') );\n\t}\n\t\n\t// UI events\n\tselectChanged($element, e){\n\t\tvar key = $element.data().key;\n\t\tvar value = $element.val();\n\t\t//if (this[key]) this[key](value);\n\t\tthis.emit('settings-event', key, parseFloat(value));\n\t\tthis.$elements.not($element).filterByData('key', key).val(value);\n\t}\n\tinputChanged($element, e){\n\t\tvar key = $element.data().key;\n\t\tvar value = $element.val();\n\t\tthis.emit('settings-event', key, parseFloat(value));\n\t\tthis.$elements.not($element).filterByData('key', key).val(value);\n\t}\n\tbuttonClicked($element, e){\n\t\tthis.emit('settings-event', $element.data().key);\n\t}\n\t\n\t// settings model events\n\tmodelChanged(data, changedKeys){\n\t\tfor (let key of changedKeys){\n\t\t\tif (key === 'upSampling' || key === 'downSampling' || key === 'xTimeBase'){\n\t\t\t\tthis['_'+key](data[key], data);\n\t\t\t} else {\n\t\t\t\tif (key === 'plotMode') this.plotMode(data[key], data);\n\t\t\t\t//this.$elements.filterByData('key', key).val(data[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tsetControls(data){\n\t\tfor (let key in data){\n\t\t\tthis.$elements.filterByData('key', key).val(data[key]);\n\t\t}\n\t}\n\t\n\tplotMode(val, data){\n\t\tthis.emit('plotMode', val, data);\n\t\tif (val == 0){\n\t\t\tif ($('#triggerControls').hasClass('hidden')) $('#triggerControls').removeClass('hidden');\n\t\t\tif (!$('#FFTControls').hasClass('hidden')) $('#FFTControls').addClass('hidden');\n\t\t\t$('.xAxisUnits').html('ms');\n\t\t\t$('.xUnit-display').html((xTime * downSampling/upSampling).toPrecision(2));\n\t\t\t$('#zoomUp').html('in');\n\t\t\t$('#zoomDown').html('out');\n\t\t} else if (val == 1){\n\t\t\tif (!$('#triggerControls').hasClass('hidden')) $('#triggerControls').addClass('hidden');\n\t\t\tif ($('#FFTControls').hasClass('hidden')) $('#FFTControls').removeClass('hidden');\n\t\t\t$('.xAxisUnits').html('Hz');\n\t\t\t$('.xUnit-display').html((sampleRate/20 * upSampling/downSampling));\n\t\t\t$('#zoomUp').html('out');\n\t\t\t$('#zoomDown').html('in');\n\t\t}\n\t}\n\t\n\t_upSampling(value, data){\n\t\tupSampling = value;\n\t\tif (data.plotMode == 0){\n\t\t\t$('.xUnit-display').html((data.xTimeBase * data.downSampling/data.upSampling).toPrecision(2));\n\t\t} else if (data.plotMode == 1){\n\t\t\t$('.xUnit-display').html((data.sampleRate/20 * data.upSampling/data.downSampling));\n\t\t}\n\t\t$('.zoom-display').html((100*data.upSampling/data.downSampling).toPrecision(4)+'%');\n\t}\n\t_downSampling(value, data){\n\t\tdownSampling = value;\n\t\tif (data.plotMode == 0){\n\t\t\t$('.xUnit-display').html((data.xTimeBase * data.downSampling/data.upSampling).toPrecision(2));\n\t\t} else if (data.plotMode == 1){\n\t\t\t$('.xUnit-display').html((data.sampleRate/20 * data.upSampling/data.downSampling));\n\t\t}\n\t\t$('.zoom-display').html((100*data.upSampling/data.downSampling).toPrecision(4)+'%');\n\t}\n\t_xTimeBase(value, data){\n\t\txTime = data.xTimeBase;\n\t\tsampleRate = data.sampleRate;\n\t\tif (data.plotMode == 0){\n\t\t\t$('.xUnit-display').html((data.xTimeBase * data.downSampling/data.upSampling).toPrecision(2));\n\t\t}\n\t}\n\t\n\t__numChannels(val, data){\n\t\tvar el = this.$elements.filterByData('key', 'triggerChannel');\n\t\tel.empty();\n\t\tfor (let i=0; i<val; i++){\n\t\t\tlet opt = $('<option></option>').html(i+1).val(i).appendTo(el);\n\t\t\tif (i === data.triggerChannel) opt.prop('selected', 'selected'); \n\t\t}\n\t}\n\t\n}\n\nmodule.exports = ControlView;\n\n$.fn.filterByData = function(prop, val) {\n    return this.filter(\n        function() { return $(this).data(prop)==val; }\n    );\n}","var EventEmitter = require('events').EventEmitter;\n\nclass Model extends EventEmitter{\n\n\tconstructor(data){\n\t\tsuper();\n\t\tvar _data = data || {};\n\t\tthis._getData = () => _data;\n\t}\n\t\n\tgetKey(key){\n\t\treturn this._getData()[key];\n\t}\n\t\n\tsetData(newData){\n\t\tif (!newData) return;\n\t\tvar newKeys = [];\n\t\tfor (let key in newData){\n\t\t\tif (!_equals(newData[key], this._getData()[key], false)){\n\t\t\t\tnewKeys.push(key);\n\t\t\t\tthis._getData()[key] = newData[key];\n\t\t\t}\n\t\t}\n\t\tif (newKeys.length) {\n\t\t\t//console.log('changed setdata');\n\t\t\tthis.emit('change', this._getData(), newKeys);\n\t\t}\n\t\tthis.emit('set', this._getData(), Object.keys(newData));\n\t}\n\t\n\tsetKey(key, value){\n\t\tif (!_equals(value, this._getData()[key], false)){\n\t\t\tthis._getData()[key] = value;\n\t\t\t//console.log('changed setkey');\n\t\t\tthis.emit('change', this._getData(), [key]);\n\t\t}\n\t\tthis.emit('set', this._getData(), [key]);\n\t}\n\t\n\tpushIntoKey(key, value){\n\t\tthis._getData()[key].push(value);\n\t\tthis.emit('change', this._getData(), [key]);\n\t\tthis.emit('set', this._getData(), [key]);\n\t}\n\t\n\tspliceFromKey(key, index){\n\t\tthis._getData()[key].splice(index, 1);\n\t\tthis.emit('change', this._getData(), [key]);\n\t\tthis.emit('set', this._getData(), [key]);\n\t}\n\t\n\tprint(){\n\t\tconsole.log(this._getData());\n\t}\n\t\n}\n\nmodule.exports = Model;\n\nfunction _equals(a, b, log){\n\tif (log) console.log('a:', a, 'b:', b);\n\tif (a instanceof Array && b instanceof Array){\n\t\tif (log) console.log('arrays', 'a:', a, 'b:', b, (a.length === b.length), a.every( function(element, index){ return _equals(element, b[index], log) }));\n\t\treturn ( (a.length === b.length) && a.every( function(element, index){ return _equals(element, b[index], log) }) );\n\t} else if (a instanceof Object && b instanceof Object){\n\t\tif (log) console.log('objects', 'a:', a, 'b:', b);\n\t\tfor (let c in a){ \n\t\t\tif (log) console.log('a[c]:', a[c], 'b[c]:', b[c], 'c:', c);\n\t\t\tif (!_equals(a[c], b[c], log)) return false;\n\t\t}\n\t\treturn true;\n\t} else {\n\t\tif (log) console.log('a:', a, 'b:', b, Object.is(a, b), (a === b));\n\t\treturn Object.is(a, b);\n\t}\n}\n\t\n\t\n\t\n\t\n\t\n\t\n\t","'use strict';\nvar View = require('./View');\n\nclass SliderView extends View{\n\t\n\tconstructor(className, models){\n\t\tsuper(className, models);\n\t\t\n\t\tthis.on('set-slider', args => {\n\t\t\t$('#scopeSlider'+args[0].value)\n\t\t\t\t.find('input[type=range]')\n\t\t\t\t\t.prop('min', args[1].value)\n\t\t\t\t\t.prop('max', args[2].value)\n\t\t\t\t\t.prop('step', args[3].value)\n\t\t\t\t\t.val(args[4].value)\n\t\t\t\t.siblings('input[type=number]')\n\t\t\t\t\t.prop('min', args[1].value)\n\t\t\t\t\t.prop('max', args[2].value)\n\t\t\t\t\t.prop('step', args[3].value)\n\t\t\t\t\t.val(args[4].value)\n\t\t\t\t.siblings('h1')\n\t\t\t\t\t.html((args[5].value == 'Slider') ? 'Slider '+args[0].value : args[5].value);\n\t\t\t\t\t\n\t\t\tvar inputs = $('#scopeSlider'+args[0].value).find('input[type=number]');\n\t\t\tinputs.filterByData('key', 'min').val(args[1].value);\n\t\t\tinputs.filterByData('key', 'max').val(args[2].value);\n\t\t\tinputs.filterByData('key', 'step').val(args[3].value);\n\t\t});\n\t\t\n\t}\n\t\n\tinputChanged($element, e){\n\t\t\n\t\tvar key = $element.data().key;\n\t\tvar slider = $element.data().slider;\n\t\tvar value = $element.val();\n\t\t\n\t\tif (key === 'value'){\n\t\t\tthis.emit('slider-value', parseInt(slider), parseFloat(value));\n\t\t} else {\n\t\t\t$element.closest('div.sliderView')\n\t\t\t\t.find('input[type=range]').prop(key, value)\n\t\t\t\t.siblings('input[type=number]').prop(key, value);\n\t\t}\n\n\t\t$element.siblings('input').val(value);\n\t}\n\t\n\t_numSliders(val){\n\n\t\tvar el = $('#scopeSlider0');\n\t\t\n\t\t$('#sliderColumn').empty();\n\t\t\n\t\tif (val == 0){\n\t\t\tel.appendTo($('#sliderColumn')).css('display', 'none');\n\t\t}\n\t\t\n\t\tfor (var i=0; i<val; i++){\n\t\t\tvar slider = el\n\t\t\t\t.clone(true)\n\t\t\t\t.prop('id', 'scopeSlider'+i)\n\t\t\t\t.appendTo($('#sliderColumn'))\n\t\t\t\t.css('display', 'block');\n\t\t\t\t\n\t\t\tslider.find('input')\n\t\t\t\t.data('slider', i)\n\t\t\t\t.on('input', (e) => this.inputChanged($(e.currentTarget), e));\n\t\t}\n\t\t\n\t}\n\t\n}\n\nmodule.exports = SliderView;\n\n$.fn.filterByData = function(prop, val) {\n    return this.filter(\n        function() { return $(this).data(prop)==val; }\n    );\n}","var EventEmitter = require('events').EventEmitter;\n\nclass View extends EventEmitter{\n\n\tconstructor(CSSClassName, models, settings){\n\t\tsuper();\n\t\tthis.className = CSSClassName;\n\t\tthis.models = models;\n\t\tthis.settings = settings;\n\t\tthis.$elements = $('.'+CSSClassName);\n\t\tthis.$parents = $('.'+CSSClassName+'-parent');\n\t\t\n\t\tif (models){\n\t\t\tfor (var i=0; i<models.length; i++){\n\t\t\t\tmodels[i].on('change', (data, changedKeys) => {\n\t\t\t\t\tthis.modelChanged(data, changedKeys);\n\t\t\t\t});\n\t\t\t\tmodels[i].on('set', (data, changedKeys) => {\n\t\t\t\t\tthis.modelSet(data, changedKeys);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.$elements.filter('select').on('change', (e) => this.selectChanged($(e.currentTarget), e));\n\t\tthis.$elements.filter('input').on('input', (e) => this.inputChanged($(e.currentTarget), e));\n\t\tthis.$elements.filter('button').on('click', (e) => this.buttonClicked($(e.currentTarget), e));\n\t\t\n\t}\n\t\n\tmodelChanged(data, changedKeys){\n\t\tfor (let value of changedKeys){\n\t\t\tif (this['_'+value]){\n\t\t\t\tthis['_'+value](data[value], data, changedKeys);\n\t\t\t}\n\t\t}\n\t}\n\tmodelSet(data, changedKeys){\n\t\tfor (let value of changedKeys){\n\t\t\tif (this['__'+value]){\n\t\t\t\tthis['__'+value](data[value], data, changedKeys);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tselectChanged(element, e){}\n\tbuttonClicked(element, e){}\n\t\n\tprintElements(){\n\t\tconsole.log('elements:', this.$elements, 'parents:', this.$parents);\n\t}\n\t\t\n}\n\nmodule.exports = View;","var scope = require('./scope-browser');","'use strict';\n\n// worker\nvar worker = new Worker(\"js/scope-worker.js\");\n\n// models\nvar Model = require('./Model');\nvar settings = new Model();\n\n// views\nvar controlView = new (require('./ControlView'))('scopeControls', [settings]);\nvar backgroundView = new (require('./BackgroundView'))('scopeBG', [settings]);\nvar channelView = new (require('./ChannelView'))('channelView', [settings]);\nvar sliderView = new (require('./SliderView'))('sliderView', [settings]);\n\n// main bela socket\nvar belaSocket = io('/IDE');\n\n// scope socket\nvar socket = io('/BelaScope');\n\nvar paused = false, oneShot = false;\n\n// view events\ncontrolView.on('settings-event', (key, value) => {\n\tif (key === 'scopePause'){\n\t\tif (paused){\n\t\t\tpaused = false;\n\t\t\t$('#pauseButton').html('pause');\n\t\t\t$('#scopeStatus').html('waiting');\n\t\t} else {\n\t\t\tpaused = true;\n\t\t\t$('#pauseButton').html('resume');\n\t\t\t$('#scopeStatus').removeClass('scope-status-triggered').addClass('scope-status-waiting').html('paused');\n\t\t}\n\t\treturn;\n\t} else if (key === 'scopeOneShot'){\n\t\toneShot = true;\n\t\tif (paused){\n\t\t\tpaused = false;\n\t\t\t$('#pauseButton').html('pause');\n\t\t}\n\t\t$('#scopeStatus').removeClass('scope-status-triggered').addClass('scope-status-waiting').html('waiting (one-shot)');\n\t}\n\tsocket.emit('settings-event', key, value);\n\t// console.log(key, value);\n\tif (value !== undefined) settings.setKey(key, value);\n});\n\nchannelView.on('channelConfig', (channelConfig) => {\n\tworker.postMessage({\n\t\tevent\t\t\t: 'channelConfig',\n\t\tchannelConfig\n\t});\n});\n\nsliderView.on('slider-value', (slider, value) => socket.emit('slider-value', slider, value) );\n\n// socket events\nsocket.on('settings', (newSettings) => {\n\t\n\tlet obj = {};\n\tfor (let key in newSettings){\n\t\tobj[key] = newSettings[key].value;\n\t}\n\t\n\tobj.frameWidth = window.innerWidth;\n\tobj.frameHeight = window.innerHeight;\n\t\n\t// console.log(newSettings, obj);\n\tsettings.setData(obj);\n\t\n\tcontrolView.setControls(obj);\n});\nsocket.on('scope-slider', args => sliderView.emit('set-slider', args) );\nsocket.on('dropped-count', count => {\n\t$('#droppedFrames').html(count);\n\tif (count > 10)\n\t\t$('#droppedFrames').css('color', 'red');\n\telse\n\t\t$('#droppedFrames').css('color', 'black');\n});\n\nbelaSocket.on('cpu-usage', CPU);\n\n// model events\nsettings.on('set', (data, changedKeys) => {\n\tif (changedKeys.indexOf('frameWidth') !== -1){\n\t\tvar xTimeBase = Math.max(Math.floor(1000*(data.frameWidth/8)/data.sampleRate), 1);\n\t\tsettings.setKey('xTimeBase', xTimeBase);\n\t\tsocket.emit('settings-event', 'frameWidth', data.frameWidth)\n\t} else {\n\t\tworker.postMessage({\n\t\t\tevent\t\t: 'settings',\n\t\t\tsettings\t: data\n\t\t});\n\t}\n});\n\n// window events\n$(window).on('resize', () => {\n\tsettings.setKey('frameWidth', window.innerWidth);\n\tsettings.setKey('frameHeight', window.innerHeight);\n});\n\n$('#scope').on('mousemove', e => {\n\tif (settings.getKey('plotMode') === undefined) return;\n\tvar plotMode = settings.getKey('plotMode');\n\tvar scale = settings.getKey('downSampling') / settings.getKey('upSampling');\n\tvar x, y;\n\tif (plotMode == 0){\n\t\tx = (1000*scale*(e.clientX-window.innerWidth/2)/settings.getKey('sampleRate')).toPrecision(4)+'ms';\n\t\ty = (1 - 2*e.clientY/window.innerHeight).toPrecision(3);\n\t} else if (plotMode == 1){\n\t\tif (parseInt(settings.getKey('FFTXAxis')) === 0){\n\t\t\tx = parseInt(settings.getKey('sampleRate')*e.clientX/(2*window.innerWidth*scale));\n\t\t} else {\n\t\t\tx = parseInt(Math.pow(Math.E, -(Math.log(1/window.innerWidth))*e.clientX/window.innerWidth) * (settings.getKey('sampleRate')/(2*window.innerWidth)) * (settings.getKey('upSampling')/(settings.getKey('downSampling'))));\n\t\t}\n\t\tif (x > 1500) x = (x/1000) + 'khz';\n\t\telse x += 'hz';\n\t\ty = (1 - e.clientY/window.innerHeight).toPrecision(3);\n\t}\n\t$('#scopeMouseX').html('x: '+x);\n\t$('#scopeMouseY').html('y: '+y);\n});\n\n// CPU usage\nfunction CPU(data){\n\tvar ide = (data.syntaxCheckProcess || 0) + (data.buildProcess || 0) + (data.node || 0);\n\tvar bela = 0, rootCPU = 1;\n\t\n\tif (data.bela != 0 && data.bela !== undefined){\n\t\n\t\t// extract the data from the output\n\t\tvar lines = data.bela.split('\\n');\n\t\tvar taskData = [], output = [];\n\t\tfor (var j=0; j<lines.length; j++){\n\t\t\ttaskData.push([]);\n\t\t\tlines[j] = lines[j].split(' ');\n\t\t\tfor (var k=0; k<lines[j].length; k++){\n\t\t\t\tif (lines[j][k]){\n\t\t\t\t\ttaskData[j].push(lines[j][k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tfor (var j=0; j<taskData.length; j++){\n\t\t\tif (taskData[j].length){\n\t\t\t\tvar proc = {\n\t\t\t\t\t'name'\t: taskData[j][7],\n\t\t\t\t\t'cpu'\t: taskData[j][6],\n\t\t\t\t\t'msw'\t: taskData[j][2],\n\t\t\t\t\t'csw'\t: taskData[j][3]\n\t\t\t\t};\n\t\t\t\tif (proc.name === 'ROOT') rootCPU = proc.cpu*0.01;\n\t\t\t\t// ignore uninteresting data\n\t\t\t\tif (proc && proc.name && proc.name !== 'ROOT' && proc.name !== 'NAME' && proc.name !== 'IRQ29:'){\n\t\t\t\t\toutput.push(proc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var j=0; j<output.length; j++){\n\t\t\tif (output[j].cpu){\n\t\t\t\tbela += parseFloat(output[j].cpu);\n\t\t\t}\n\t\t}\n\n\t\tbela += data.belaLinux * rootCPU;\t\n\n\t}\n\t\n\t$('#ide-cpu').html('ide: '+(ide*rootCPU).toFixed(1)+'%');\n\t$('#bela-cpu').html('bela: '+( bela ? bela.toFixed(1)+'%' : '--'));\n\t\n\tif (bela && (ide*rootCPU + bela) > 80){\n\t\t$('#ide-cpu, #bela-cpu').css('color', 'red');\n\t} else {\n\t\t$('#ide-cpu, #bela-cpu').css('color', 'black');\n\t}\n\t\n}\n\n// plotting\n{\n\t\n\tlet canvas = document.getElementById('scope');\n\tlet ctx = canvas.getContext('2d');\n\tctx.lineWidth = 2;\n\t\n\tlet width, height, numChannels, channelConfig = [], xOff = 0, triggerChannel = 0, triggerLevel = 0, xOffset = 0, upSampling = 1;;\n\tsettings.on('change', (data, changedKeys) => {\n\t\tif (changedKeys.indexOf('frameWidth') !== -1 || changedKeys.indexOf('frameHeight') !== -1){\n\t\t\tcanvas.width = window.innerWidth;\n\t\t\twidth = canvas.width;\n\t\t\tcanvas.height = window.innerHeight;\n\t\t\theight = canvas.height;\n\t\t}\n\t\tif (changedKeys.indexOf('numChannels') !== -1){\n\t\t\tnumChannels = data.numChannels;\n\t\t}\n\t\tif (changedKeys.indexOf('triggerChannel') !== -1){\n\t\t\ttriggerChannel = data.triggerChannel;\n\t\t}\n\t\tif (changedKeys.indexOf('triggerLevel') !== -1){\n\t\t\ttriggerLevel = data.triggerLevel;\n\t\t}\n\t\tif (changedKeys.indexOf('xOffset') !== -1){\n\t\t\txOffset = data.xOffset;\n\t\t}\n\t\tif (changedKeys.indexOf('upSampling') !== -1){\n\t\t\tupSampling = data.upSampling;\n\t\t}\n\t});\n\tchannelView.on('channelConfig', (config) => channelConfig = config );\n\t\n\tlet frame, length, plot = false;\n\n\tworker.onmessage = function(e) {\n\t\tframe = e.data;\n\t\tlength = Math.floor(frame.length/numChannels);\n\t\t// if scope is paused, don't set the plot flag\n\t\tplot = !paused;\n\t\t\n\t\t// interpolate the trigger sample to get the sub-pixel x-offset\n\t\tif (settings.getKey('plotMode') == 0){\n\t\t\tif (upSampling == 1){\n\t\t\t\tlet one = Math.abs(frame[Math.floor(triggerChannel*length+length/2)+xOffset-1] + (height/2) * ((channelConfig[triggerChannel].yOffset + triggerLevel)/channelConfig[triggerChannel].yAmplitude - 1));\n\t\t\t\tlet two = Math.abs(frame[Math.floor(triggerChannel*length+length/2)+xOffset] + (height/2) * ((channelConfig[triggerChannel].yOffset + triggerLevel)/channelConfig[triggerChannel].yAmplitude - 1));\n\t\t\t\txOff = (one/(one+two)-1.5);\n\t\t\t} else {\n\t\t\t\tfor (var i=0; i<=(upSampling*2); i++){\n\t\t\t\t\tlet one = frame[Math.floor(triggerChannel*length+length/2)+xOffset*upSampling-i] + (height/2) * ((channelConfig[triggerChannel].yOffset + triggerLevel)/channelConfig[triggerChannel].yAmplitude - 1);\n\t\t\t\t\tlet two = frame[Math.floor(triggerChannel*length+length/2)+xOffset*upSampling+i] + (height/2) * ((channelConfig[triggerChannel].yOffset + triggerLevel)/channelConfig[triggerChannel].yAmplitude - 1);\n\t\t\t\t\tif ((one > triggerLevel && two < triggerLevel) || (one < triggerLevel && two > triggerLevel)){\n\t\t\t\t\t\txOff = i*(Math.abs(one)/(Math.abs(one)+Math.abs(two))-1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//console.log(xOff);\n\t\t}\n\t};\n\t\n\tfunction plotLoop(){\n\t\trequestAnimationFrame(plotLoop);\n\t\t\n\t\tif (plot){\n\t\t\n\t\t\tplot = false;\n\t\t\tctx.clearRect(0, 0, width, height);\n\t\t\t//console.log('plotting');\n\t\t\t\n\t\t\tfor (var i=0; i<numChannels; i++){\n\n\t\t\t\tctx.strokeStyle = channelConfig[i].color;\n\t\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(0, frame[i * length] + xOff*(frame[i * length + 1] - frame[i * length]));\n\t\t\t\t\n\t\t\t\tfor (var j=1; (j-xOff)<(length); j++){\n\t\t\t\t\tctx.lineTo(j-xOff, frame[j+i*length]);\n\t\t\t\t}\n\t\t\t\t//ctx.lineTo(length, frame[length*(i+1)-1]);\n\t\t\t\t//if (!i) console.log(length, j-xOff-1);\n\n\t\t\t\tctx.stroke();\n\t\t\n\t\t\t}\n\t\t\t\n\t\t\ttriggerStatus();\n\t\t\n\t\t} /*else {\n\t\t\tconsole.log('not plotting');\n\t\t}*/\n\t\t\n\t}\n\tplotLoop();\n\t\n\t// update the status indicator when triggered\n\tlet triggerTimeout; \n\tlet inactiveTimeout = setTimeout(() => {\n\t\tif (!oneShot && !paused) inactiveOverlay.addClass('inactive-overlay-visible');\n\t}, 5000);\n\tlet scopeStatus = $('#scopeStatus');\n\tlet inactiveOverlay = $('#inactive-overlay');\n\tfunction triggerStatus(){\n\t\n\t\tscopeStatus.removeClass('scope-status-waiting');\n\t\tinactiveOverlay.removeClass('inactive-overlay-visible');\n\t\t\t\n\t\t// hack to restart the fading animation if it is in progress\n\t\tif (scopeStatus.hasClass('scope-status-triggered')){\n\t\t\tscopeStatus.removeClass('scope-status-triggered');\n\t\t\tvoid scopeStatus[0].offsetWidth;\n\t\t}\n\t\t\n\t\tscopeStatus.addClass('scope-status-triggered').html('triggered');\n\t\t\n\t\tif (oneShot){\n\t\t\toneShot = false;\n\t\t\tpaused = true;\n\t\t\t$('#pauseButton').html('resume');\n\t\t\tscopeStatus.removeClass('scope-status-triggered').addClass('scope-status-waiting').html('paused');\n\t\t} else {\n\t\t\tif (triggerTimeout) clearTimeout(triggerTimeout);\n\t\t\ttriggerTimeout = setTimeout(() => {\n\t\t\t\tif (!oneShot && !paused) scopeStatus.removeClass('scope-status-triggered').addClass('scope-status-waiting').html('waiting');\n\t\t\t}, 1000);\n\t\t\t\n\t\t\tif (inactiveTimeout) clearTimeout(inactiveTimeout);\n\t\t\tinactiveTimeout = setTimeout(() => {\n\t\t\t\tif (!oneShot && !paused) inactiveOverlay.addClass('inactive-overlay-visible');\n\t\t\t}, 5000);\n\t\t}\n\t}\n\t\n\tlet saveCanvasData =  document.getElementById('saveCanvasData');\t\t\n\tsaveCanvasData.addEventListener('click', function(){\n\n\t\tlet downSampling = settings.getKey('downSampling');\n\t\tlet upSampling = settings.getKey('upSampling');\n\t\tlet sampleRate = settings.getKey('sampleRate');\n\t\tlet plotMode = settings.getKey('plotMode');\n\t\tlet scale = downSampling/upSampling;\n\t\tlet FFTAxis = settings.getKey('FFTXAxis');\n\t\t\n\t\tconsole.log(FFTAxis)\n\t\t\t\t\n\t\tlet out = \"data:text/csv;charset=utf-8,\";\n\t\t\n\t\tfor (let i=0; i<length; i++){\n\t\t\n\t\t\tif (plotMode === 0){\t\t// time domain\n\t\t\t\tout += scale*i/sampleRate;\n\t\t\t} else if (plotMode === 1) {\t// FFT\n\t\t\t\t\n\t\t\t\tif (parseInt(settings.getKey('FFTXAxis')) === 0){ // linear x-axis\n\t\t\t\t\tout += sampleRate*i/(2*length*scale);\n\t\t\t\t\t// x = parseInt(settings.getKey('sampleRate')*e.clientX/(2*window.innerWidth*scale));\n\t\t\t\t} else {\n\t\t\t\t\tout += Math.pow(Math.E, -(Math.log(1/length))*i/length) * sampleRate/(2*length) + upSampling/downSampling;\n\t\t\t\t\t// x = parseInt(Math.pow(Math.E, -(Math.log(1/window.innerWidth))*e.clientX/window.innerWidth) * (settings.getKey('sampleRate')/(2*window.innerWidth)) * (settings.getKey('upSampling')/(settings.getKey('downSampling'))));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tfor (let j=0; j<numChannels; j++){\n\t\t\t\tout += ','+ ( ( 1 - frame[j*length + i] / (height/2) ) * channelConfig[j].yAmplitude - channelConfig[j].yOffset );\n\t\t\t}\n\t\t\tout += '\\n';\n\t\t}\n\n\n\t\tthis.href = encodeURI(out);\n\t});\n\t\n}\n\n\n\n\n\n\n\n\n\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsInNjb3BlLXNyYy9CYWNrZ3JvdW5kVmlldy5qcyIsInNjb3BlLXNyYy9DaGFubmVsVmlldy5qcyIsInNjb3BlLXNyYy9Db250cm9sVmlldy5qcyIsInNjb3BlLXNyYy9Nb2RlbC5qcyIsInNjb3BlLXNyYy9TbGlkZXJWaWV3LmpzIiwic2NvcGUtc3JjL1ZpZXcuanMiLCJzY29wZS1zcmMvbWFpbi5qcyIsInNjb3BlLXNyYy9zY29wZS1icm93c2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTJFLGFBQVcsWUFBN0Y7QUFDQTtBQUNBO0FBRUQ7O0FBRUQsUUFBSyxJQUFJLElBQUUsQ0FBWCxFQUFjLElBQUUsV0FBaEIsRUFBNkIsR0FBN0IsRUFBaUM7QUFDaEMsV0FBTyxPQUFPLENBQUUsSUFBSSxNQUFNLElBQUUsTUFBRixHQUFXLENBQWpCLEtBQXVCLFNBQU8sQ0FBOUIsQ0FBTixJQUEyQyxjQUFjLENBQWQsRUFBaUIsVUFBNUQsR0FBeUUsY0FBYyxDQUFkLEVBQWlCLE9BQWpHLENBQVA7QUFDQTtBQUNELFVBQU8sSUFBUDtBQUNBOztBQUdELE9BQUssSUFBTCxHQUFZLFVBQVUsR0FBVixDQUFaO0FBQ0EsRUFyQ0Q7QUF1Q0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4gKCcgKyBlciArICcpJyk7XG4gICAgICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKVxuICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoZXZsaXN0ZW5lcilcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIFZpZXcgPSByZXF1aXJlKCcuL1ZpZXcnKTtcblxuY2xhc3MgQmFja2dyb3VuZFZpZXcgZXh0ZW5kcyBWaWV3e1xuXG5cdGNvbnN0cnVjdG9yKGNsYXNzTmFtZSwgbW9kZWxzKXtcblx0XHRzdXBlcihjbGFzc05hbWUsIG1vZGVscyk7XG5cdFx0dmFyIHNhdmVDYW52YXMgPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVDYW52YXMnKTtcblx0XHR0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29wZUJHJyk7XG5cdFx0c2F2ZUNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29wZScpLCAwLCAwKTtcblx0XHRcdHNhdmVDYW52YXMuaHJlZiA9IHRoaXMuY2FudmFzLnRvRGF0YVVSTCgpO1xuXHRcdFx0dGhpcy5yZXBhaW50QkcoKTtcblx0XHR9KTtcblx0fVxuXHRcblx0cmVwYWludEJHKHhUaW1lLCBkYXRhKXtcblx0XHR2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG5cdFx0Y2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0Y2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblx0XHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cdFx0Y3R4LnJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblx0XHRjdHguZmlsbFN0eWxlPVwid2hpdGVcIjtcblx0XHRjdHguZmlsbCgpO1xuXHRcdC8vY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXHRcdFxuXHRcdGlmIChkYXRhLnBsb3RNb2RlID09IDEpe1xuXHRcdFx0dGhpcy5GRlRCRyhjYW52YXMsIGN0eCwgZGF0YSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHhQaXhlbHMgPSB4VGltZSp0aGlzLm1vZGVsc1swXS5nZXRLZXkoJ3NhbXBsZVJhdGUnKS8xMDAwO1xuXHRcdHZhciBudW1WTGluZXMgPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aC94UGl4ZWxzKTtcblx0XHR2YXIgbXNwZXJzYW1wbGUgPSB4VGltZSpkYXRhLmRvd25TYW1wbGluZy9kYXRhLnVwU2FtcGxpbmc7XG5cdFx0XG5cdFx0Ly9jb25zb2xlLmxvZyh4VGltZSk7XG5cblx0XHQvL2ZhaW50IGxpbmVzXG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gJyMwMDAwMDAnO1xuXHRcdGN0eC5maWxsU3R5bGU9XCJncmV5XCI7XG5cdFx0Y3R4LmZvbnQgPSBcIjE0cHggaW5jb25zb2xhdGFcIjtcblx0XHRjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblx0XHRjdHgubGluZVdpZHRoID0gMC4yO1xuXHRcdGN0eC5zZXRMaW5lRGFzaChbXSk7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5maWxsVGV4dCgwLCBjYW52YXMud2lkdGgvMiwgY2FudmFzLmhlaWdodC8yKzExKTtcblx0XHRmb3IgKHZhciBpPTE7IGk8bnVtVkxpbmVzOyBpKyspe1xuXHRcdFx0Y3R4Lm1vdmVUbyhjYW52YXMud2lkdGgvMiArIGkqeFBpeGVscywgMCk7XG5cdFx0XHRjdHgubGluZVRvKGNhbnZhcy53aWR0aC8yICsgaSp4UGl4ZWxzLCBjYW52YXMuaGVpZ2h0KTtcblx0XHRcdGN0eC5maWxsVGV4dCgoaSptc3BlcnNhbXBsZSkudG9QcmVjaXNpb24oMiksIGNhbnZhcy53aWR0aC8yICsgaSp4UGl4ZWxzLCBjYW52YXMuaGVpZ2h0LzIrMTEpO1xuXHRcdFx0Y3R4Lm1vdmVUbyhjYW52YXMud2lkdGgvMiAtIGkqeFBpeGVscywgMCk7XG5cdFx0XHRjdHgubGluZVRvKGNhbnZhcy53aWR0aC8yIC0gaSp4UGl4ZWxzLCBjYW52YXMuaGVpZ2h0KTtcblx0XHRcdGN0eC5maWxsVGV4dCgoLWkqbXNwZXJzYW1wbGUpLnRvUHJlY2lzaW9uKDIpLCBjYW52YXMud2lkdGgvMiAtIGkqeFBpeGVscywgY2FudmFzLmhlaWdodC8yKzExKTtcblx0XHR9XG5cdFx0XG5cdFx0dmFyIG51bUhMaW5lcyA9IDY7XG5cdFx0Zm9yICh2YXIgaT0xOyBpPG51bUhMaW5lczsgaSsrKXtcblx0XHRcdGlmIChpICE9IG51bUhMaW5lcy8yKXtcblx0XHRcdFx0Y3R4Lm1vdmVUbygwLCBjYW52YXMuaGVpZ2h0KmkvbnVtSExpbmVzKTtcblx0XHRcdFx0Y3R4LmxpbmVUbyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQqaS9udW1ITGluZXMpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvL3RpY2tzXG5cdFx0dmFyIG51bVRpY2tzID0gMTA7XG5cdFx0dmFyIHRpY2tTaXplO1xuXHRcdGZvciAodmFyIGk9MDsgaTxudW1WTGluZXM7IGkrKyl7XG5cdFx0XHRmb3IgKHZhciBqPTE7IGo8bnVtVGlja3M7IGorKyl7XG5cdFx0XHRcdHRpY2tTaXplID0gNztcblx0XHRcdFx0aWYgKGogPT09IE1hdGguZmxvb3IobnVtVGlja3MvMikpe1xuXHRcdFx0XHRcdHRpY2tTaXplID0gMTA7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3R4Lm1vdmVUbyhjYW52YXMud2lkdGgvMiArIGkqeFBpeGVscyArIHhQaXhlbHMqai9udW1UaWNrcywgY2FudmFzLmhlaWdodC8yICsgdGlja1NpemUpO1xuXHRcdFx0XHRjdHgubGluZVRvKGNhbnZhcy53aWR0aC8yICsgaSp4UGl4ZWxzICsgeFBpeGVscypqL251bVRpY2tzLCBjYW52YXMuaGVpZ2h0LzIgLSB0aWNrU2l6ZSk7XG5cdFx0XHRcdGlmIChpKXtcblx0XHRcdFx0XHRjdHgubW92ZVRvKGNhbnZhcy53aWR0aC8yIC0gaSp4UGl4ZWxzICsgeFBpeGVscypqL251bVRpY2tzLCBjYW52YXMuaGVpZ2h0LzIgKyB0aWNrU2l6ZSk7XG5cdFx0XHRcdFx0Y3R4LmxpbmVUbyhjYW52YXMud2lkdGgvMiAtIGkqeFBpeGVscyArIHhQaXhlbHMqai9udW1UaWNrcywgY2FudmFzLmhlaWdodC8yIC0gdGlja1NpemUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVx0XG5cdFx0XG5cdFx0bnVtVGlja3MgPSAxMDtcblx0XHRmb3IgKHZhciBpPTA7IGk8bnVtSExpbmVzOyBpKyspe1xuXHRcdFx0Zm9yICh2YXIgaj0xOyBqPG51bVRpY2tzOyBqKyspe1xuXHRcdFx0XHR0aWNrU2l6ZSA9IDc7XG5cdFx0XHRcdGlmIChqID09PSBNYXRoLmZsb29yKG51bVRpY2tzLzIpKXtcblx0XHRcdFx0XHR0aWNrU2l6ZSA9IDEwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGN0eC5tb3ZlVG8oY2FudmFzLndpZHRoLzIgLSB0aWNrU2l6ZSwgY2FudmFzLmhlaWdodCppL251bUhMaW5lcyArIGNhbnZhcy5oZWlnaHQqai8obnVtVGlja3MqbnVtSExpbmVzKSk7XG5cdFx0XHRcdGN0eC5saW5lVG8oY2FudmFzLndpZHRoLzIgKyB0aWNrU2l6ZSwgY2FudmFzLmhlaWdodCppL251bUhMaW5lcyArIGNhbnZhcy5oZWlnaHQqai8obnVtVGlja3MqbnVtSExpbmVzKSk7XG5cdFx0XHR9XG5cdFx0fVx0XG5cdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdFxuXHRcdC8vZGFzaGVkIGxpbmVzXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5zZXRMaW5lRGFzaChbMiwgNV0pO1xuXHRcdFxuXHRcdGN0eC5tb3ZlVG8oMCwgY2FudmFzLmhlaWdodCozLzQpO1xuXHRcdGN0eC5saW5lVG8oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KjMvNCk7XG5cdFx0Y3R4Lm1vdmVUbygwLCBjYW52YXMuaGVpZ2h0KjEvNCk7XG5cdFx0Y3R4LmxpbmVUbyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQqMS80KTtcblx0XHRcblx0XHRjdHguc3Ryb2tlKCk7XHRcblx0XHRjdHguc2V0TGluZURhc2goW10pO1x0XG5cdFx0XG5cdFx0Ly9mYXQgbGluZXNcblx0XHRjdHgubGluZVdpZHRoID0gMTtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0dmFyIG51bVZMaW5lcyA9IDI7XG5cdFx0Zm9yICh2YXIgaT0wOyBpPD1udW1WTGluZXM7IGkrKyl7XG5cdFx0XHRjdHgubW92ZVRvKGNhbnZhcy53aWR0aCppL251bVZMaW5lcywgMCk7XG5cdFx0XHRjdHgubGluZVRvKGNhbnZhcy53aWR0aCppL251bVZMaW5lcywgY2FudmFzLmhlaWdodCk7XG5cdFx0fVxuXHRcdFxuXHRcdHZhciBudW1ITGluZXMgPSAyO1xuXHRcdGZvciAodmFyIGk9MDsgaTw9bnVtSExpbmVzOyBpKyspe1xuXHRcdFx0Y3R4Lm1vdmVUbygwLCBjYW52YXMuaGVpZ2h0KmkvbnVtSExpbmVzKTtcblx0XHRcdGN0eC5saW5lVG8oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KmkvbnVtSExpbmVzKTtcblx0XHR9XG5cdFx0XG5cdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdFxuXHRcdC8vdHJpZ2dlciBsaW5lXG5cdFx0LypjdHguc3Ryb2tlU3R5bGUgPSAnIzAwMDBmZic7XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IDAuMjtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4Lm1vdmVUbygwLCAoY2FudmFzLmhlaWdodC8yKSooMS0odGhpcy55T2Zmc2V0K3RoaXMudHJpZ2dlckxldmVsKS90aGlzLnlBbXBsaXR1ZGUpICk7XG5cdFx0Y3R4LmxpbmVUbyhjYW52YXMud2lkdGgsIChjYW52YXMuaGVpZ2h0LzIpKigxLSh0aGlzLnlPZmZzZXQrdGhpcy50cmlnZ2VyTGV2ZWwpL3RoaXMueUFtcGxpdHVkZSkgKTtcblx0XHRjdHguc3Ryb2tlKCk7Ki9cblx0fVxuXHRcblx0RkZUQkcoY2FudmFzLCBjdHgsIGRhdGEpe1xuXHRcdFxuXHRcdHZhciBudW1WbGluZXMgPSAxMDtcblx0XHRcblx0XHQvL2ZhaW50IGxpbmVzXG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gJyMwMDAwMDAnO1xuXHRcdGN0eC5maWxsU3R5bGU9XCJncmV5XCI7XG5cdFx0Y3R4LmZvbnQgPSBcIjE0cHggaW5jb25zb2xhdGFcIjtcblx0XHRjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblx0XHRjdHgubGluZVdpZHRoID0gMC4zO1xuXHRcdGN0eC5zZXRMaW5lRGFzaChbXSk7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0XHRcblx0XHRmb3IgKHZhciBpPTA7IGkgPD0gbnVtVmxpbmVzOyBpKyspe1xuXHRcdFx0Y3R4Lm1vdmVUbyhpKndpbmRvdy5pbm5lcldpZHRoL251bVZsaW5lcywgMCk7XG5cdFx0XHRjdHgubGluZVRvKGkqd2luZG93LmlubmVyV2lkdGgvbnVtVmxpbmVzLCBjYW52YXMuaGVpZ2h0KTtcblx0XHRcdGlmIChpICYmIGkgIT09IG51bVZsaW5lcyl7XG5cdFx0XHRcdHZhciB2YWw7XG5cdFx0XHRcdGlmIChwYXJzZUludCh0aGlzLm1vZGVsc1swXS5nZXRLZXkoJ0ZGVFhBeGlzJykpID09PSAwKXtcdC8vIGxpbmVhciB4IGF4aXNcblx0XHRcdFx0XHR2YWwgPSAoKGkqdGhpcy5tb2RlbHNbMF0uZ2V0S2V5KCdzYW1wbGVSYXRlJykvKG51bVZsaW5lcyoyKSkqZGF0YS51cFNhbXBsaW5nL2RhdGEuZG93blNhbXBsaW5nKS50b0ZpeGVkKDApO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2codmFsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWwgPSAoTWF0aC5wb3coTWF0aC5FLCAtKE1hdGgubG9nKDEvd2luZG93LmlubmVyV2lkdGgpKSppL251bVZsaW5lcykgKiAodGhpcy5tb2RlbHNbMF0uZ2V0S2V5KCdzYW1wbGVSYXRlJykvKDIqd2luZG93LmlubmVyV2lkdGgpKSAqIChkYXRhLnVwU2FtcGxpbmcvZGF0YS5kb3duU2FtcGxpbmcpKS50b0ZpeGVkKDApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRjdHguZmlsbFRleHQodmFsLCBpKndpbmRvdy5pbm5lcldpZHRoL251bVZsaW5lcywgY2FudmFzLmhlaWdodC0yKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0dmFyIG51bUhMaW5lcyA9IDY7XG5cdFx0Zm9yICh2YXIgaT0xOyBpPG51bUhMaW5lczsgaSsrKXtcblx0XHRcdGN0eC5tb3ZlVG8oMCwgY2FudmFzLmhlaWdodCppL251bUhMaW5lcyk7XG5cdFx0XHRjdHgubGluZVRvKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCppL251bUhMaW5lcyk7XG5cdFx0fVxuXHRcdFxuXHRcdGN0eC5zdHJva2UoKTtcblx0XHRcblx0XHQvL2ZhdCBsaW5lc1xuXHRcdGN0eC5saW5lV2lkdGggPSAxO1xuXHRcdGN0eC5iZWdpblBhdGgoKTtcblxuXHRcdGN0eC5tb3ZlVG8oMCwgMCk7XG5cdFx0Y3R4LmxpbmVUbygwLCBjYW52YXMuaGVpZ2h0KTtcblxuXHRcdGN0eC5tb3ZlVG8oMCwgY2FudmFzLmhlaWdodCk7XG5cdFx0Y3R4LmxpbmVUbyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXHRcdFx0XG5cdFx0Y3R4LnN0cm9rZSgpO1xuXHR9XG5cdFxuXHRfX3hUaW1lQmFzZSh2YWx1ZSwgZGF0YSl7XG5cdFx0Ly9jb25zb2xlLmxvZyh2YWx1ZSk7XG5cdFx0dGhpcy5yZXBhaW50QkcodmFsdWUsIGRhdGEpO1xuXHR9XG5cdFxuXHRfcGxvdE1vZGUodmFsdWUsIGRhdGEpe1xuXHRcdHRoaXMucmVwYWludEJHKGRhdGEueFRpbWVCYXNlLCBkYXRhKTtcblx0fVxuXHRfRkZUWEF4aXModmFsdWUsIGRhdGEpe1xuXHRcdHRoaXMucmVwYWludEJHKGRhdGEueFRpbWVCYXNlLCBkYXRhKTtcblx0fVxuXHRcblx0X3VwU2FtcGxpbmcodmFsdWUsIGRhdGEpe1xuXHRcdHRoaXMucmVwYWludEJHKGRhdGEueFRpbWVCYXNlLCBkYXRhKTtcblx0fVxuXHRfZG93blNhbXBsaW5nKHZhbHVlLCBkYXRhKXtcblx0XHR0aGlzLnJlcGFpbnRCRyhkYXRhLnhUaW1lQmFzZSwgZGF0YSk7XG5cdH1cblx0XG5cdF90cmlnZ2VyTGV2ZWwodmFsdWUsIGRhdGEpe1xuXHRcdC8vY29uc29sZS5sb2codmFsdWUsIGRhdGEpO1xuXHR9XG5cdFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tncm91bmRWaWV3O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIFZpZXcgPSByZXF1aXJlKCcuL1ZpZXcnKTtcblxuZnVuY3Rpb24gQ2hhbm5lbENvbmZpZygpe1xuXHR0aGlzLnlBbXBsaXR1ZGUgPSAxO1xuXHR0aGlzLnlPZmZzZXQgPSAwO1xuXHR0aGlzLmNvbG9yID0gJyNmZjAwMDAnO1xufVxuXG52YXIgY2hhbm5lbENvbmZpZyA9IFtuZXcgQ2hhbm5lbENvbmZpZygpXTtcbnZhciBjb2xvdXJzID0gWycjZmYwMDAwJywgJyMwMDAwZmYnLCAnIzAwZmYwMCcsICcjZmZmZjAwJywgJyMwMGZmZmYnLCAnI2ZmMDBmZiddO1xuXG52YXIgdGRHYWluVmFsID0gMSwgdGRPZmZzZXRWYWwgPSAwLCB0ZEdhaW5NaW4gPSAwLCB0ZEdhaW5NYXggPSAxMCwgdGRPZmZzZXRNaW4gPSAtNSwgdGRPZmZzZXRNYXggPSA1O1xudmFyIEZGVE5HYWluVmFsID0gMSwgRkZUTk9mZnNldFZhbCA9IC0wLjAwNSwgRkZUTkdhaW5NaW4gPSAwLCBGRlROR2Fpbk1heCA9IDEwLCBGRlROT2Zmc2V0TWluID0gLTEsIEZGVE5PZmZzZXRNYXggPSAxO1xudmFyIEZGVERHYWluVmFsID0gNzAsIEZGVERPZmZzZXRWYWwgPSA2OSwgRkZUREdhaW5NaW4gPSAwLCBGRlRER2Fpbk1heCA9IDEwMDAsIEZGVERPZmZzZXRNaW4gPSAwLCBGRlRET2Zmc2V0TWF4ID0gMTAwO1xuXG5jbGFzcyBDaGFubmVsVmlldyBleHRlbmRzIFZpZXd7XG5cblx0Y29uc3RydWN0b3IoY2xhc3NOYW1lLCBtb2RlbHMpe1xuXHRcdHN1cGVyKGNsYXNzTmFtZSwgbW9kZWxzKTtcblx0fVxuXHRcblx0Ly8gVUkgZXZlbnRzXG5cdGlucHV0Q2hhbmdlZCgkZWxlbWVudCwgZSl7XG5cdFx0dmFyIGtleSA9ICRlbGVtZW50LmRhdGEoKS5rZXk7XG5cdFx0dmFyIGNoYW5uZWwgPSAkZWxlbWVudC5kYXRhKCkuY2hhbm5lbDtcblx0XHR2YXIgdmFsdWUgPSAoa2V5ID09PSAnY29sb3InKSA/ICRlbGVtZW50LnZhbCgpIDogcGFyc2VGbG9hdCgkZWxlbWVudC52YWwoKSk7XG5cdFx0aWYgKCEoa2V5ID09PSAnY29sb3InKSAmJiBpc05hTih2YWx1ZSkpIHJldHVybjtcblx0XHRpZiAoa2V5ID09PSAneUFtcGxpdHVkZScgJiYgdmFsdWUgPT0gMCkgdmFsdWUgPSAwLjAwMTsgLy8gcHJldmVudCBhbXBsaXR1ZGUgaGl0dGluZyB6ZXJvXG5cdFx0dGhpcy4kZWxlbWVudHMubm90KCRlbGVtZW50KS5maWx0ZXJCeURhdGEoJ2tleScsIGtleSkuZmlsdGVyQnlEYXRhKCdjaGFubmVsJywgY2hhbm5lbCkudmFsKHZhbHVlKTtcblx0XHRjaGFubmVsQ29uZmlnW2NoYW5uZWxdW2tleV0gPSB2YWx1ZTtcblx0XHR0aGlzLmVtaXQoJ2NoYW5uZWxDb25maWcnLCBjaGFubmVsQ29uZmlnKTtcblx0fVxuXHRcblx0c2V0Q2hhbm5lbEdhaW5zKHZhbHVlLCBtaW4sIG1heCl7XG5cdFx0dGhpcy4kZWxlbWVudHMuZmlsdGVyQnlEYXRhKCdrZXknLCAneUFtcGxpdHVkZScpLm5vdCgnaW5wdXRbdHlwZT1udW1iZXJdJykucHJvcCgnbWluJywgbWluKS5wcm9wKCdtYXgnLCBtYXgpO1xuXHRcdHRoaXMuJGVsZW1lbnRzLmZpbHRlckJ5RGF0YSgna2V5JywgJ3lBbXBsaXR1ZGUnKS52YWwodmFsdWUpO1xuXHRcdGZvciAobGV0IGl0ZW0gb2YgY2hhbm5lbENvbmZpZyl7XG5cdFx0XHRpdGVtLnlBbXBsaXR1ZGUgPSB2YWx1ZTtcblx0XHR9XG5cdFx0dGhpcy5lbWl0KCdjaGFubmVsQ29uZmlnJywgY2hhbm5lbENvbmZpZyk7XG5cdFx0Y29uc29sZS5sb2codmFsdWUsIHRoaXMuJGVsZW1lbnRzLmZpbHRlckJ5RGF0YSgna2V5JywgJ3lBbXBsaXR1ZGUnKS52YWwoKSk7XG5cdH1cblx0c2V0Q2hhbm5lbE9mZnNldHModmFsdWUsIG1pbiwgbWF4KXtcblx0XHR0aGlzLiRlbGVtZW50cy5maWx0ZXJCeURhdGEoJ2tleScsICd5T2Zmc2V0Jykubm90KCdpbnB1dFt0eXBlPW51bWJlcl0nKS5wcm9wKCdtaW4nLCBtaW4pLnByb3AoJ21heCcsIG1heCk7XG5cdFx0dGhpcy4kZWxlbWVudHMuZmlsdGVyQnlEYXRhKCdrZXknLCAneU9mZnNldCcpLnZhbCh2YWx1ZSk7XG5cdFx0Zm9yIChsZXQgaXRlbSBvZiBjaGFubmVsQ29uZmlnKXtcblx0XHRcdGl0ZW0ueU9mZnNldCA9IHZhbHVlO1xuXHRcdH1cblx0XHR0aGlzLmVtaXQoJ2NoYW5uZWxDb25maWcnLCBjaGFubmVsQ29uZmlnKTtcblx0fVxuXHRcblx0cmVzZXRBbGwoKXtcblx0XHRmb3IgKGxldCBpPTA7IGk8Y2hhbm5lbENvbmZpZy5sZW5ndGg7IGkrKyl7XG5cdFx0XHR0aGlzLiRlbGVtZW50cy5maWx0ZXJCeURhdGEoJ2tleScsICd5QW1wbGl0dWRlJykuZmlsdGVyQnlEYXRhKCdjaGFubmVsJywgaSkudmFsKGNoYW5uZWxDb25maWdbaV0ueUFtcGxpdHVkZSk7XG5cdFx0XHR0aGlzLiRlbGVtZW50cy5maWx0ZXJCeURhdGEoJ2tleScsICd5T2Zmc2V0JykuZmlsdGVyQnlEYXRhKCdjaGFubmVsJywgaSkudmFsKGNoYW5uZWxDb25maWdbaV0ueU9mZnNldCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRfbnVtQ2hhbm5lbHModmFsKXtcblx0XHR2YXIgbnVtQ2hhbm5lbHMgPSB2YWw7XG5cdFx0aWYgKG51bUNoYW5uZWxzIDwgY2hhbm5lbENvbmZpZy5sZW5ndGgpe1xuXHRcdFx0d2hpbGUobnVtQ2hhbm5lbHMgPCBjaGFubmVsQ29uZmlnLmxlbmd0aCl7XG5cdFx0XHRcdCQoJyNjaGFubmVsVmlld0NoYW5uZWwnKyhjaGFubmVsQ29uZmlnLmxlbmd0aCkpLnJlbW92ZSgpO1xuXHRcdFx0XHRjaGFubmVsQ29uZmlnLnBvcCgpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAobnVtQ2hhbm5lbHMgPiBjaGFubmVsQ29uZmlnLmxlbmd0aCl7XG5cdFx0XHR3aGlsZShudW1DaGFubmVscyA+IGNoYW5uZWxDb25maWcubGVuZ3RoKXtcblx0XHRcdFx0Y2hhbm5lbENvbmZpZy5wdXNoKG5ldyBDaGFubmVsQ29uZmlnKCkpO1xuXHRcdFx0XHRjaGFubmVsQ29uZmlnW2NoYW5uZWxDb25maWcubGVuZ3RoLTFdLmNvbG9yID0gY29sb3Vyc1soY2hhbm5lbENvbmZpZy5sZW5ndGgtMSklY29sb3Vycy5sZW5ndGhdO1xuXHRcdFx0XHR2YXIgZWwgPSAkKCcjY2hhbm5lbFZpZXdDaGFubmVsMCcpXG5cdFx0XHRcdFx0LmNsb25lKHRydWUpXG5cdFx0XHRcdFx0LnByb3AoJ2lkJywgJ2NoYW5uZWxWaWV3Q2hhbm5lbCcrKGNoYW5uZWxDb25maWcubGVuZ3RoKSlcblx0XHRcdFx0XHQuYXBwZW5kVG8oJCgnI2NoYW5uZWxDb2x1bW4nKSk7XG5cdFx0XHRcdGVsLmZpbmQoJ2gxJykuaHRtbCgnQ2hhbm5lbCAnKyhjaGFubmVsQ29uZmlnLmxlbmd0aCkpO1xuXHRcdFx0XHRlbC5maW5kKCdpbnB1dCcpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0XHQkKHRoaXMpLmRhdGEoJ2NoYW5uZWwnLCBjaGFubmVsQ29uZmlnLmxlbmd0aC0xKVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0ZWwuZmluZCgnaW5wdXRbdHlwZT1jb2xvcl0nKS52YWwoY29sb3Vyc1soY2hhbm5lbENvbmZpZy5sZW5ndGgtMSklY29sb3Vycy5sZW5ndGhdKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5lbWl0KCdjaGFubmVsQ29uZmlnJywgY2hhbm5lbENvbmZpZyk7XG5cdFx0dGhpcy4kZWxlbWVudHMgPSAkKCcuJyt0aGlzLmNsYXNzTmFtZSk7XG5cdH1cblx0XG5cdF9wbG90TW9kZSh2YWwsIGRhdGEpe1xuXG5cdFx0aWYgKHZhbCA9PSAwKXtcdC8vIHRpbWUgZG9tYWluXG5cdFx0XG5cdFx0XHR0aGlzLnNldENoYW5uZWxHYWlucyh0ZEdhaW5WYWwsIHRkR2Fpbk1pbiwgdGRHYWluTWF4KTtcblx0XHRcdHRoaXMuc2V0Q2hhbm5lbE9mZnNldHModGRPZmZzZXRWYWwsIHRkT2Zmc2V0TWluLCB0ZE9mZnNldE1heCk7XG5cdFx0XHRcdFxuXHRcdH0gZWxzZSB7XHQvLyBGRlRcblxuXHRcdFx0aWYgKGRhdGEuRkZUWUF4aXMgPT0gMCl7XHQvLyBub3JtYWxpc2VkXG5cblx0XHRcdFx0dGhpcy5zZXRDaGFubmVsR2FpbnMoRkZUTkdhaW5WYWwsIEZGVE5HYWluTWluLCBGRlROR2Fpbk1heCk7XG5cdFx0XHRcdHRoaXMuc2V0Q2hhbm5lbE9mZnNldHMoRkZUTk9mZnNldFZhbCwgRkZUTk9mZnNldE1pbiwgRkZUTk9mZnNldE1heCk7XG5cblx0XHRcdH0gZWxzZSB7XHQvLyBkZWNpYmVsc1xuXG5cdFx0XHRcdHRoaXMuc2V0Q2hhbm5lbEdhaW5zKEZGVERHYWluVmFsLCBGRlRER2Fpbk1pbiwgRkZUREdhaW5NYXgpO1xuXHRcdFx0XHR0aGlzLnNldENoYW5uZWxPZmZzZXRzKEZGVERPZmZzZXRWYWwsIEZGVERPZmZzZXRNaW4sIEZGVERPZmZzZXRNYXgpO1xuXG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9XG5cblx0fVxuXHRfRkZUWUF4aXModmFsLCBkYXRhKXtcblxuXHRcdGlmIChkYXRhLnBsb3RNb2RlID09IDEpe1xuXHRcdFxuXHRcdFx0aWYgKHZhbCA9PSAwKXtcdC8vIG5vcm1hbGlzZWRcblx0XHRcblx0XHRcdFx0dGhpcy5zZXRDaGFubmVsR2FpbnMoRkZUTkdhaW5WYWwsIEZGVE5HYWluTWluLCBGRlROR2Fpbk1heCk7XG5cdFx0XHRcdHRoaXMuc2V0Q2hhbm5lbE9mZnNldHMoRkZUTk9mZnNldFZhbCwgRkZUTk9mZnNldE1pbiwgRkZUTk9mZnNldE1heCk7XG5cblx0XHRcdH0gZWxzZSB7XHQvLyBkZWNpYmVsc1xuXG5cdFx0XHRcdHRoaXMuc2V0Q2hhbm5lbEdhaW5zKEZGVERHYWluVmFsLCBGRlRER2Fpbk1pbiwgRkZUREdhaW5NYXgpO1xuXHRcdFx0XHR0aGlzLnNldENoYW5uZWxPZmZzZXRzKEZGVERPZmZzZXRWYWwsIEZGVERPZmZzZXRNaW4sIEZGVERPZmZzZXRNYXgpO1xuXHRcdFx0XG5cdFx0XHR9XG5cdFx0XG5cdFx0fVxuXHRcdFxuXHR9XG5cdFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENoYW5uZWxWaWV3O1xuXG4kLmZuLmZpbHRlckJ5RGF0YSA9IGZ1bmN0aW9uKHByb3AsIHZhbCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihcbiAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiAkKHRoaXMpLmRhdGEocHJvcCk9PXZhbDsgfVxuICAgICk7XG59IiwiJ3VzZSBzdHJpY3QnO1xudmFyIFZpZXcgPSByZXF1aXJlKCcuL1ZpZXcnKTtcblxudmFyIHhUaW1lLCBzYW1wbGVSYXRlLCB1cFNhbXBsaW5nLCBkb3duU2FtcGxpbmdcblxuY2xhc3MgQ29udHJvbFZpZXcgZXh0ZW5kcyBWaWV3e1xuXG5cdGNvbnN0cnVjdG9yKGNsYXNzTmFtZSwgbW9kZWxzKXtcblx0XHRzdXBlcihjbGFzc05hbWUsIG1vZGVscyk7XG5cdFx0JCgnI2NvbnRyb2xzQnV0dG9uJykuY2xpY2soKCkgPT4gdGhpcy4kcGFyZW50cy50b2dnbGVDbGFzcygnaGlkZGVuJykgKTtcblx0fVxuXHRcblx0Ly8gVUkgZXZlbnRzXG5cdHNlbGVjdENoYW5nZWQoJGVsZW1lbnQsIGUpe1xuXHRcdHZhciBrZXkgPSAkZWxlbWVudC5kYXRhKCkua2V5O1xuXHRcdHZhciB2YWx1ZSA9ICRlbGVtZW50LnZhbCgpO1xuXHRcdC8vaWYgKHRoaXNba2V5XSkgdGhpc1trZXldKHZhbHVlKTtcblx0XHR0aGlzLmVtaXQoJ3NldHRpbmdzLWV2ZW50Jywga2V5LCBwYXJzZUZsb2F0KHZhbHVlKSk7XG5cdFx0dGhpcy4kZWxlbWVudHMubm90KCRlbGVtZW50KS5maWx0ZXJCeURhdGEoJ2tleScsIGtleSkudmFsKHZhbHVlKTtcblx0fVxuXHRpbnB1dENoYW5nZWQoJGVsZW1lbnQsIGUpe1xuXHRcdHZhciBrZXkgPSAkZWxlbWVudC5kYXRhKCkua2V5O1xuXHRcdHZhciB2YWx1ZSA9ICRlbGVtZW50LnZhbCgpO1xuXHRcdHRoaXMuZW1pdCgnc2V0dGluZ3MtZXZlbnQnLCBrZXksIHBhcnNlRmxvYXQodmFsdWUpKTtcblx0XHR0aGlzLiRlbGVtZW50cy5ub3QoJGVsZW1lbnQpLmZpbHRlckJ5RGF0YSgna2V5Jywga2V5KS52YWwodmFsdWUpO1xuXHR9XG5cdGJ1dHRvbkNsaWNrZWQoJGVsZW1lbnQsIGUpe1xuXHRcdHRoaXMuZW1pdCgnc2V0dGluZ3MtZXZlbnQnLCAkZWxlbWVudC5kYXRhKCkua2V5KTtcblx0fVxuXHRcblx0Ly8gc2V0dGluZ3MgbW9kZWwgZXZlbnRzXG5cdG1vZGVsQ2hhbmdlZChkYXRhLCBjaGFuZ2VkS2V5cyl7XG5cdFx0Zm9yIChsZXQga2V5IG9mIGNoYW5nZWRLZXlzKXtcblx0XHRcdGlmIChrZXkgPT09ICd1cFNhbXBsaW5nJyB8fCBrZXkgPT09ICdkb3duU2FtcGxpbmcnIHx8IGtleSA9PT0gJ3hUaW1lQmFzZScpe1xuXHRcdFx0XHR0aGlzWydfJytrZXldKGRhdGFba2V5XSwgZGF0YSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoa2V5ID09PSAncGxvdE1vZGUnKSB0aGlzLnBsb3RNb2RlKGRhdGFba2V5XSwgZGF0YSk7XG5cdFx0XHRcdC8vdGhpcy4kZWxlbWVudHMuZmlsdGVyQnlEYXRhKCdrZXknLCBrZXkpLnZhbChkYXRhW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0c2V0Q29udHJvbHMoZGF0YSl7XG5cdFx0Zm9yIChsZXQga2V5IGluIGRhdGEpe1xuXHRcdFx0dGhpcy4kZWxlbWVudHMuZmlsdGVyQnlEYXRhKCdrZXknLCBrZXkpLnZhbChkYXRhW2tleV0pO1xuXHRcdH1cblx0fVxuXHRcblx0cGxvdE1vZGUodmFsLCBkYXRhKXtcblx0XHR0aGlzLmVtaXQoJ3Bsb3RNb2RlJywgdmFsLCBkYXRhKTtcblx0XHRpZiAodmFsID09IDApe1xuXHRcdFx0aWYgKCQoJyN0cmlnZ2VyQ29udHJvbHMnKS5oYXNDbGFzcygnaGlkZGVuJykpICQoJyN0cmlnZ2VyQ29udHJvbHMnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRpZiAoISQoJyNGRlRDb250cm9scycpLmhhc0NsYXNzKCdoaWRkZW4nKSkgJCgnI0ZGVENvbnRyb2xzJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0JCgnLnhBeGlzVW5pdHMnKS5odG1sKCdtcycpO1xuXHRcdFx0JCgnLnhVbml0LWRpc3BsYXknKS5odG1sKCh4VGltZSAqIGRvd25TYW1wbGluZy91cFNhbXBsaW5nKS50b1ByZWNpc2lvbigyKSk7XG5cdFx0XHQkKCcjem9vbVVwJykuaHRtbCgnaW4nKTtcblx0XHRcdCQoJyN6b29tRG93bicpLmh0bWwoJ291dCcpO1xuXHRcdH0gZWxzZSBpZiAodmFsID09IDEpe1xuXHRcdFx0aWYgKCEkKCcjdHJpZ2dlckNvbnRyb2xzJykuaGFzQ2xhc3MoJ2hpZGRlbicpKSAkKCcjdHJpZ2dlckNvbnRyb2xzJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0aWYgKCQoJyNGRlRDb250cm9scycpLmhhc0NsYXNzKCdoaWRkZW4nKSkgJCgnI0ZGVENvbnRyb2xzJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdFx0JCgnLnhBeGlzVW5pdHMnKS5odG1sKCdIeicpO1xuXHRcdFx0JCgnLnhVbml0LWRpc3BsYXknKS5odG1sKChzYW1wbGVSYXRlLzIwICogdXBTYW1wbGluZy9kb3duU2FtcGxpbmcpKTtcblx0XHRcdCQoJyN6b29tVXAnKS5odG1sKCdvdXQnKTtcblx0XHRcdCQoJyN6b29tRG93bicpLmh0bWwoJ2luJyk7XG5cdFx0fVxuXHR9XG5cdFxuXHRfdXBTYW1wbGluZyh2YWx1ZSwgZGF0YSl7XG5cdFx0dXBTYW1wbGluZyA9IHZhbHVlO1xuXHRcdGlmIChkYXRhLnBsb3RNb2RlID09IDApe1xuXHRcdFx0JCgnLnhVbml0LWRpc3BsYXknKS5odG1sKChkYXRhLnhUaW1lQmFzZSAqIGRhdGEuZG93blNhbXBsaW5nL2RhdGEudXBTYW1wbGluZykudG9QcmVjaXNpb24oMikpO1xuXHRcdH0gZWxzZSBpZiAoZGF0YS5wbG90TW9kZSA9PSAxKXtcblx0XHRcdCQoJy54VW5pdC1kaXNwbGF5JykuaHRtbCgoZGF0YS5zYW1wbGVSYXRlLzIwICogZGF0YS51cFNhbXBsaW5nL2RhdGEuZG93blNhbXBsaW5nKSk7XG5cdFx0fVxuXHRcdCQoJy56b29tLWRpc3BsYXknKS5odG1sKCgxMDAqZGF0YS51cFNhbXBsaW5nL2RhdGEuZG93blNhbXBsaW5nKS50b1ByZWNpc2lvbig0KSsnJScpO1xuXHR9XG5cdF9kb3duU2FtcGxpbmcodmFsdWUsIGRhdGEpe1xuXHRcdGRvd25TYW1wbGluZyA9IHZhbHVlO1xuXHRcdGlmIChkYXRhLnBsb3RNb2RlID09IDApe1xuXHRcdFx0JCgnLnhVbml0LWRpc3BsYXknKS5odG1sKChkYXRhLnhUaW1lQmFzZSAqIGRhdGEuZG93blNhbXBsaW5nL2RhdGEudXBTYW1wbGluZykudG9QcmVjaXNpb24oMikpO1xuXHRcdH0gZWxzZSBpZiAoZGF0YS5wbG90TW9kZSA9PSAxKXtcblx0XHRcdCQoJy54VW5pdC1kaXNwbGF5JykuaHRtbCgoZGF0YS5zYW1wbGVSYXRlLzIwICogZGF0YS51cFNhbXBsaW5nL2RhdGEuZG93blNhbXBsaW5nKSk7XG5cdFx0fVxuXHRcdCQoJy56b29tLWRpc3BsYXknKS5odG1sKCgxMDAqZGF0YS51cFNhbXBsaW5nL2RhdGEuZG93blNhbXBsaW5nKS50b1ByZWNpc2lvbig0KSsnJScpO1xuXHR9XG5cdF94VGltZUJhc2UodmFsdWUsIGRhdGEpe1xuXHRcdHhUaW1lID0gZGF0YS54VGltZUJhc2U7XG5cdFx0c2FtcGxlUmF0ZSA9IGRhdGEuc2FtcGxlUmF0ZTtcblx0XHRpZiAoZGF0YS5wbG90TW9kZSA9PSAwKXtcblx0XHRcdCQoJy54VW5pdC1kaXNwbGF5JykuaHRtbCgoZGF0YS54VGltZUJhc2UgKiBkYXRhLmRvd25TYW1wbGluZy9kYXRhLnVwU2FtcGxpbmcpLnRvUHJlY2lzaW9uKDIpKTtcblx0XHR9XG5cdH1cblx0XG5cdF9fbnVtQ2hhbm5lbHModmFsLCBkYXRhKXtcblx0XHR2YXIgZWwgPSB0aGlzLiRlbGVtZW50cy5maWx0ZXJCeURhdGEoJ2tleScsICd0cmlnZ2VyQ2hhbm5lbCcpO1xuXHRcdGVsLmVtcHR5KCk7XG5cdFx0Zm9yIChsZXQgaT0wOyBpPHZhbDsgaSsrKXtcblx0XHRcdGxldCBvcHQgPSAkKCc8b3B0aW9uPjwvb3B0aW9uPicpLmh0bWwoaSsxKS52YWwoaSkuYXBwZW5kVG8oZWwpO1xuXHRcdFx0aWYgKGkgPT09IGRhdGEudHJpZ2dlckNoYW5uZWwpIG9wdC5wcm9wKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpOyBcblx0XHR9XG5cdH1cblx0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udHJvbFZpZXc7XG5cbiQuZm4uZmlsdGVyQnlEYXRhID0gZnVuY3Rpb24ocHJvcCwgdmFsKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyKFxuICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuICQodGhpcykuZGF0YShwcm9wKT09dmFsOyB9XG4gICAgKTtcbn0iLCJ2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG5jbGFzcyBNb2RlbCBleHRlbmRzIEV2ZW50RW1pdHRlcntcblxuXHRjb25zdHJ1Y3RvcihkYXRhKXtcblx0XHRzdXBlcigpO1xuXHRcdHZhciBfZGF0YSA9IGRhdGEgfHwge307XG5cdFx0dGhpcy5fZ2V0RGF0YSA9ICgpID0+IF9kYXRhO1xuXHR9XG5cdFxuXHRnZXRLZXkoa2V5KXtcblx0XHRyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpW2tleV07XG5cdH1cblx0XG5cdHNldERhdGEobmV3RGF0YSl7XG5cdFx0aWYgKCFuZXdEYXRhKSByZXR1cm47XG5cdFx0dmFyIG5ld0tleXMgPSBbXTtcblx0XHRmb3IgKGxldCBrZXkgaW4gbmV3RGF0YSl7XG5cdFx0XHRpZiAoIV9lcXVhbHMobmV3RGF0YVtrZXldLCB0aGlzLl9nZXREYXRhKClba2V5XSwgZmFsc2UpKXtcblx0XHRcdFx0bmV3S2V5cy5wdXNoKGtleSk7XG5cdFx0XHRcdHRoaXMuX2dldERhdGEoKVtrZXldID0gbmV3RGF0YVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAobmV3S2V5cy5sZW5ndGgpIHtcblx0XHRcdC8vY29uc29sZS5sb2coJ2NoYW5nZWQgc2V0ZGF0YScpO1xuXHRcdFx0dGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl9nZXREYXRhKCksIG5ld0tleXMpO1xuXHRcdH1cblx0XHR0aGlzLmVtaXQoJ3NldCcsIHRoaXMuX2dldERhdGEoKSwgT2JqZWN0LmtleXMobmV3RGF0YSkpO1xuXHR9XG5cdFxuXHRzZXRLZXkoa2V5LCB2YWx1ZSl7XG5cdFx0aWYgKCFfZXF1YWxzKHZhbHVlLCB0aGlzLl9nZXREYXRhKClba2V5XSwgZmFsc2UpKXtcblx0XHRcdHRoaXMuX2dldERhdGEoKVtrZXldID0gdmFsdWU7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCdjaGFuZ2VkIHNldGtleScpO1xuXHRcdFx0dGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl9nZXREYXRhKCksIFtrZXldKTtcblx0XHR9XG5cdFx0dGhpcy5lbWl0KCdzZXQnLCB0aGlzLl9nZXREYXRhKCksIFtrZXldKTtcblx0fVxuXHRcblx0cHVzaEludG9LZXkoa2V5LCB2YWx1ZSl7XG5cdFx0dGhpcy5fZ2V0RGF0YSgpW2tleV0ucHVzaCh2YWx1ZSk7XG5cdFx0dGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl9nZXREYXRhKCksIFtrZXldKTtcblx0XHR0aGlzLmVtaXQoJ3NldCcsIHRoaXMuX2dldERhdGEoKSwgW2tleV0pO1xuXHR9XG5cdFxuXHRzcGxpY2VGcm9tS2V5KGtleSwgaW5kZXgpe1xuXHRcdHRoaXMuX2dldERhdGEoKVtrZXldLnNwbGljZShpbmRleCwgMSk7XG5cdFx0dGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl9nZXREYXRhKCksIFtrZXldKTtcblx0XHR0aGlzLmVtaXQoJ3NldCcsIHRoaXMuX2dldERhdGEoKSwgW2tleV0pO1xuXHR9XG5cdFxuXHRwcmludCgpe1xuXHRcdGNvbnNvbGUubG9nKHRoaXMuX2dldERhdGEoKSk7XG5cdH1cblx0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kZWw7XG5cbmZ1bmN0aW9uIF9lcXVhbHMoYSwgYiwgbG9nKXtcblx0aWYgKGxvZykgY29uc29sZS5sb2coJ2E6JywgYSwgJ2I6JywgYik7XG5cdGlmIChhIGluc3RhbmNlb2YgQXJyYXkgJiYgYiBpbnN0YW5jZW9mIEFycmF5KXtcblx0XHRpZiAobG9nKSBjb25zb2xlLmxvZygnYXJyYXlzJywgJ2E6JywgYSwgJ2I6JywgYiwgKGEubGVuZ3RoID09PSBiLmxlbmd0aCksIGEuZXZlcnkoIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4KXsgcmV0dXJuIF9lcXVhbHMoZWxlbWVudCwgYltpbmRleF0sIGxvZykgfSkpO1xuXHRcdHJldHVybiAoIChhLmxlbmd0aCA9PT0gYi5sZW5ndGgpICYmIGEuZXZlcnkoIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4KXsgcmV0dXJuIF9lcXVhbHMoZWxlbWVudCwgYltpbmRleF0sIGxvZykgfSkgKTtcblx0fSBlbHNlIGlmIChhIGluc3RhbmNlb2YgT2JqZWN0ICYmIGIgaW5zdGFuY2VvZiBPYmplY3Qpe1xuXHRcdGlmIChsb2cpIGNvbnNvbGUubG9nKCdvYmplY3RzJywgJ2E6JywgYSwgJ2I6JywgYik7XG5cdFx0Zm9yIChsZXQgYyBpbiBhKXsgXG5cdFx0XHRpZiAobG9nKSBjb25zb2xlLmxvZygnYVtjXTonLCBhW2NdLCAnYltjXTonLCBiW2NdLCAnYzonLCBjKTtcblx0XHRcdGlmICghX2VxdWFscyhhW2NdLCBiW2NdLCBsb2cpKSByZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGVsc2Uge1xuXHRcdGlmIChsb2cpIGNvbnNvbGUubG9nKCdhOicsIGEsICdiOicsIGIsIE9iamVjdC5pcyhhLCBiKSwgKGEgPT09IGIpKTtcblx0XHRyZXR1cm4gT2JqZWN0LmlzKGEsIGIpO1xuXHR9XG59XG5cdFxuXHRcblx0XG5cdFxuXHRcblx0XG5cdCIsIid1c2Ugc3RyaWN0JztcbnZhciBWaWV3ID0gcmVxdWlyZSgnLi9WaWV3Jyk7XG5cbmNsYXNzIFNsaWRlclZpZXcgZXh0ZW5kcyBWaWV3e1xuXHRcblx0Y29uc3RydWN0b3IoY2xhc3NOYW1lLCBtb2RlbHMpe1xuXHRcdHN1cGVyKGNsYXNzTmFtZSwgbW9kZWxzKTtcblx0XHRcblx0XHR0aGlzLm9uKCdzZXQtc2xpZGVyJywgYXJncyA9PiB7XG5cdFx0XHQkKCcjc2NvcGVTbGlkZXInK2FyZ3NbMF0udmFsdWUpXG5cdFx0XHRcdC5maW5kKCdpbnB1dFt0eXBlPXJhbmdlXScpXG5cdFx0XHRcdFx0LnByb3AoJ21pbicsIGFyZ3NbMV0udmFsdWUpXG5cdFx0XHRcdFx0LnByb3AoJ21heCcsIGFyZ3NbMl0udmFsdWUpXG5cdFx0XHRcdFx0LnByb3AoJ3N0ZXAnLCBhcmdzWzNdLnZhbHVlKVxuXHRcdFx0XHRcdC52YWwoYXJnc1s0XS52YWx1ZSlcblx0XHRcdFx0LnNpYmxpbmdzKCdpbnB1dFt0eXBlPW51bWJlcl0nKVxuXHRcdFx0XHRcdC5wcm9wKCdtaW4nLCBhcmdzWzFdLnZhbHVlKVxuXHRcdFx0XHRcdC5wcm9wKCdtYXgnLCBhcmdzWzJdLnZhbHVlKVxuXHRcdFx0XHRcdC5wcm9wKCdzdGVwJywgYXJnc1szXS52YWx1ZSlcblx0XHRcdFx0XHQudmFsKGFyZ3NbNF0udmFsdWUpXG5cdFx0XHRcdC5zaWJsaW5ncygnaDEnKVxuXHRcdFx0XHRcdC5odG1sKChhcmdzWzVdLnZhbHVlID09ICdTbGlkZXInKSA/ICdTbGlkZXIgJythcmdzWzBdLnZhbHVlIDogYXJnc1s1XS52YWx1ZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHR2YXIgaW5wdXRzID0gJCgnI3Njb3BlU2xpZGVyJythcmdzWzBdLnZhbHVlKS5maW5kKCdpbnB1dFt0eXBlPW51bWJlcl0nKTtcblx0XHRcdGlucHV0cy5maWx0ZXJCeURhdGEoJ2tleScsICdtaW4nKS52YWwoYXJnc1sxXS52YWx1ZSk7XG5cdFx0XHRpbnB1dHMuZmlsdGVyQnlEYXRhKCdrZXknLCAnbWF4JykudmFsKGFyZ3NbMl0udmFsdWUpO1xuXHRcdFx0aW5wdXRzLmZpbHRlckJ5RGF0YSgna2V5JywgJ3N0ZXAnKS52YWwoYXJnc1szXS52YWx1ZSk7XG5cdFx0fSk7XG5cdFx0XG5cdH1cblx0XG5cdGlucHV0Q2hhbmdlZCgkZWxlbWVudCwgZSl7XG5cdFx0XG5cdFx0dmFyIGtleSA9ICRlbGVtZW50LmRhdGEoKS5rZXk7XG5cdFx0dmFyIHNsaWRlciA9ICRlbGVtZW50LmRhdGEoKS5zbGlkZXI7XG5cdFx0dmFyIHZhbHVlID0gJGVsZW1lbnQudmFsKCk7XG5cdFx0XG5cdFx0aWYgKGtleSA9PT0gJ3ZhbHVlJyl7XG5cdFx0XHR0aGlzLmVtaXQoJ3NsaWRlci12YWx1ZScsIHBhcnNlSW50KHNsaWRlciksIHBhcnNlRmxvYXQodmFsdWUpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JGVsZW1lbnQuY2xvc2VzdCgnZGl2LnNsaWRlclZpZXcnKVxuXHRcdFx0XHQuZmluZCgnaW5wdXRbdHlwZT1yYW5nZV0nKS5wcm9wKGtleSwgdmFsdWUpXG5cdFx0XHRcdC5zaWJsaW5ncygnaW5wdXRbdHlwZT1udW1iZXJdJykucHJvcChrZXksIHZhbHVlKTtcblx0XHR9XG5cblx0XHQkZWxlbWVudC5zaWJsaW5ncygnaW5wdXQnKS52YWwodmFsdWUpO1xuXHR9XG5cdFxuXHRfbnVtU2xpZGVycyh2YWwpe1xuXG5cdFx0dmFyIGVsID0gJCgnI3Njb3BlU2xpZGVyMCcpO1xuXHRcdFxuXHRcdCQoJyNzbGlkZXJDb2x1bW4nKS5lbXB0eSgpO1xuXHRcdFxuXHRcdGlmICh2YWwgPT0gMCl7XG5cdFx0XHRlbC5hcHBlbmRUbygkKCcjc2xpZGVyQ29sdW1uJykpLmNzcygnZGlzcGxheScsICdub25lJyk7XG5cdFx0fVxuXHRcdFxuXHRcdGZvciAodmFyIGk9MDsgaTx2YWw7IGkrKyl7XG5cdFx0XHR2YXIgc2xpZGVyID0gZWxcblx0XHRcdFx0LmNsb25lKHRydWUpXG5cdFx0XHRcdC5wcm9wKCdpZCcsICdzY29wZVNsaWRlcicraSlcblx0XHRcdFx0LmFwcGVuZFRvKCQoJyNzbGlkZXJDb2x1bW4nKSlcblx0XHRcdFx0LmNzcygnZGlzcGxheScsICdibG9jaycpO1xuXHRcdFx0XHRcblx0XHRcdHNsaWRlci5maW5kKCdpbnB1dCcpXG5cdFx0XHRcdC5kYXRhKCdzbGlkZXInLCBpKVxuXHRcdFx0XHQub24oJ2lucHV0JywgKGUpID0+IHRoaXMuaW5wdXRDaGFuZ2VkKCQoZS5jdXJyZW50VGFyZ2V0KSwgZSkpO1xuXHRcdH1cblx0XHRcblx0fVxuXHRcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTbGlkZXJWaWV3O1xuXG4kLmZuLmZpbHRlckJ5RGF0YSA9IGZ1bmN0aW9uKHByb3AsIHZhbCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihcbiAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiAkKHRoaXMpLmRhdGEocHJvcCk9PXZhbDsgfVxuICAgICk7XG59IiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxuY2xhc3MgVmlldyBleHRlbmRzIEV2ZW50RW1pdHRlcntcblxuXHRjb25zdHJ1Y3RvcihDU1NDbGFzc05hbWUsIG1vZGVscywgc2V0dGluZ3Mpe1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBDU1NDbGFzc05hbWU7XG5cdFx0dGhpcy5tb2RlbHMgPSBtb2RlbHM7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuXHRcdHRoaXMuJGVsZW1lbnRzID0gJCgnLicrQ1NTQ2xhc3NOYW1lKTtcblx0XHR0aGlzLiRwYXJlbnRzID0gJCgnLicrQ1NTQ2xhc3NOYW1lKyctcGFyZW50Jyk7XG5cdFx0XG5cdFx0aWYgKG1vZGVscyl7XG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8bW9kZWxzLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0bW9kZWxzW2ldLm9uKCdjaGFuZ2UnLCAoZGF0YSwgY2hhbmdlZEtleXMpID0+IHtcblx0XHRcdFx0XHR0aGlzLm1vZGVsQ2hhbmdlZChkYXRhLCBjaGFuZ2VkS2V5cyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRtb2RlbHNbaV0ub24oJ3NldCcsIChkYXRhLCBjaGFuZ2VkS2V5cykgPT4ge1xuXHRcdFx0XHRcdHRoaXMubW9kZWxTZXQoZGF0YSwgY2hhbmdlZEtleXMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0dGhpcy4kZWxlbWVudHMuZmlsdGVyKCdzZWxlY3QnKS5vbignY2hhbmdlJywgKGUpID0+IHRoaXMuc2VsZWN0Q2hhbmdlZCgkKGUuY3VycmVudFRhcmdldCksIGUpKTtcblx0XHR0aGlzLiRlbGVtZW50cy5maWx0ZXIoJ2lucHV0Jykub24oJ2lucHV0JywgKGUpID0+IHRoaXMuaW5wdXRDaGFuZ2VkKCQoZS5jdXJyZW50VGFyZ2V0KSwgZSkpO1xuXHRcdHRoaXMuJGVsZW1lbnRzLmZpbHRlcignYnV0dG9uJykub24oJ2NsaWNrJywgKGUpID0+IHRoaXMuYnV0dG9uQ2xpY2tlZCgkKGUuY3VycmVudFRhcmdldCksIGUpKTtcblx0XHRcblx0fVxuXHRcblx0bW9kZWxDaGFuZ2VkKGRhdGEsIGNoYW5nZWRLZXlzKXtcblx0XHRmb3IgKGxldCB2YWx1ZSBvZiBjaGFuZ2VkS2V5cyl7XG5cdFx0XHRpZiAodGhpc1snXycrdmFsdWVdKXtcblx0XHRcdFx0dGhpc1snXycrdmFsdWVdKGRhdGFbdmFsdWVdLCBkYXRhLCBjaGFuZ2VkS2V5cyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdG1vZGVsU2V0KGRhdGEsIGNoYW5nZWRLZXlzKXtcblx0XHRmb3IgKGxldCB2YWx1ZSBvZiBjaGFuZ2VkS2V5cyl7XG5cdFx0XHRpZiAodGhpc1snX18nK3ZhbHVlXSl7XG5cdFx0XHRcdHRoaXNbJ19fJyt2YWx1ZV0oZGF0YVt2YWx1ZV0sIGRhdGEsIGNoYW5nZWRLZXlzKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHNlbGVjdENoYW5nZWQoZWxlbWVudCwgZSl7fVxuXHRidXR0b25DbGlja2VkKGVsZW1lbnQsIGUpe31cblx0XG5cdHByaW50RWxlbWVudHMoKXtcblx0XHRjb25zb2xlLmxvZygnZWxlbWVudHM6JywgdGhpcy4kZWxlbWVudHMsICdwYXJlbnRzOicsIHRoaXMuJHBhcmVudHMpO1xuXHR9XG5cdFx0XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVmlldzsiLCJ2YXIgc2NvcGUgPSByZXF1aXJlKCcuL3Njb3BlLWJyb3dzZXInKTsiLCIndXNlIHN0cmljdCc7XG5cbi8vIHdvcmtlclxudmFyIHdvcmtlciA9IG5ldyBXb3JrZXIoXCJqcy9zY29wZS13b3JrZXIuanNcIik7XG5cbi8vIG1vZGVsc1xudmFyIE1vZGVsID0gcmVxdWlyZSgnLi9Nb2RlbCcpO1xudmFyIHNldHRpbmdzID0gbmV3IE1vZGVsKCk7XG5cbi8vIHZpZXdzXG52YXIgY29udHJvbFZpZXcgPSBuZXcgKHJlcXVpcmUoJy4vQ29udHJvbFZpZXcnKSkoJ3Njb3BlQ29udHJvbHMnLCBbc2V0dGluZ3NdKTtcbnZhciBiYWNrZ3JvdW5kVmlldyA9IG5ldyAocmVxdWlyZSgnLi9CYWNrZ3JvdW5kVmlldycpKSgnc2NvcGVCRycsIFtzZXR0aW5nc10pO1xudmFyIGNoYW5uZWxWaWV3ID0gbmV3IChyZXF1aXJlKCcuL0NoYW5uZWxWaWV3JykpKCdjaGFubmVsVmlldycsIFtzZXR0aW5nc10pO1xudmFyIHNsaWRlclZpZXcgPSBuZXcgKHJlcXVpcmUoJy4vU2xpZGVyVmlldycpKSgnc2xpZGVyVmlldycsIFtzZXR0aW5nc10pO1xuXG4vLyBtYWluIGJlbGEgc29ja2V0XG52YXIgYmVsYVNvY2tldCA9IGlvKCcvSURFJyk7XG5cbi8vIHNjb3BlIHNvY2tldFxudmFyIHNvY2tldCA9IGlvKCcvQmVsYVNjb3BlJyk7XG5cbnZhciBwYXVzZWQgPSBmYWxzZSwgb25lU2hvdCA9IGZhbHNlO1xuXG4vLyB2aWV3IGV2ZW50c1xuY29udHJvbFZpZXcub24oJ3NldHRpbmdzLWV2ZW50JywgKGtleSwgdmFsdWUpID0+IHtcblx0aWYgKGtleSA9PT0gJ3Njb3BlUGF1c2UnKXtcblx0XHRpZiAocGF1c2VkKXtcblx0XHRcdHBhdXNlZCA9IGZhbHNlO1xuXHRcdFx0JCgnI3BhdXNlQnV0dG9uJykuaHRtbCgncGF1c2UnKTtcblx0XHRcdCQoJyNzY29wZVN0YXR1cycpLmh0bWwoJ3dhaXRpbmcnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGF1c2VkID0gdHJ1ZTtcblx0XHRcdCQoJyNwYXVzZUJ1dHRvbicpLmh0bWwoJ3Jlc3VtZScpO1xuXHRcdFx0JCgnI3Njb3BlU3RhdHVzJykucmVtb3ZlQ2xhc3MoJ3Njb3BlLXN0YXR1cy10cmlnZ2VyZWQnKS5hZGRDbGFzcygnc2NvcGUtc3RhdHVzLXdhaXRpbmcnKS5odG1sKCdwYXVzZWQnKTtcblx0XHR9XG5cdFx0cmV0dXJuO1xuXHR9IGVsc2UgaWYgKGtleSA9PT0gJ3Njb3BlT25lU2hvdCcpe1xuXHRcdG9uZVNob3QgPSB0cnVlO1xuXHRcdGlmIChwYXVzZWQpe1xuXHRcdFx0cGF1c2VkID0gZmFsc2U7XG5cdFx0XHQkKCcjcGF1c2VCdXR0b24nKS5odG1sKCdwYXVzZScpO1xuXHRcdH1cblx0XHQkKCcjc2NvcGVTdGF0dXMnKS5yZW1vdmVDbGFzcygnc2NvcGUtc3RhdHVzLXRyaWdnZXJlZCcpLmFkZENsYXNzKCdzY29wZS1zdGF0dXMtd2FpdGluZycpLmh0bWwoJ3dhaXRpbmcgKG9uZS1zaG90KScpO1xuXHR9XG5cdHNvY2tldC5lbWl0KCdzZXR0aW5ncy1ldmVudCcsIGtleSwgdmFsdWUpO1xuXHQvLyBjb25zb2xlLmxvZyhrZXksIHZhbHVlKTtcblx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHNldHRpbmdzLnNldEtleShrZXksIHZhbHVlKTtcbn0pO1xuXG5jaGFubmVsVmlldy5vbignY2hhbm5lbENvbmZpZycsIChjaGFubmVsQ29uZmlnKSA9PiB7XG5cdHdvcmtlci5wb3N0TWVzc2FnZSh7XG5cdFx0ZXZlbnRcdFx0XHQ6ICdjaGFubmVsQ29uZmlnJyxcblx0XHRjaGFubmVsQ29uZmlnXG5cdH0pO1xufSk7XG5cbnNsaWRlclZpZXcub24oJ3NsaWRlci12YWx1ZScsIChzbGlkZXIsIHZhbHVlKSA9PiBzb2NrZXQuZW1pdCgnc2xpZGVyLXZhbHVlJywgc2xpZGVyLCB2YWx1ZSkgKTtcblxuLy8gc29ja2V0IGV2ZW50c1xuc29ja2V0Lm9uKCdzZXR0aW5ncycsIChuZXdTZXR0aW5ncykgPT4ge1xuXHRcblx0bGV0IG9iaiA9IHt9O1xuXHRmb3IgKGxldCBrZXkgaW4gbmV3U2V0dGluZ3Mpe1xuXHRcdG9ialtrZXldID0gbmV3U2V0dGluZ3Nba2V5XS52YWx1ZTtcblx0fVxuXHRcblx0b2JqLmZyYW1lV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0b2JqLmZyYW1lSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHRcblx0Ly8gY29uc29sZS5sb2cobmV3U2V0dGluZ3MsIG9iaik7XG5cdHNldHRpbmdzLnNldERhdGEob2JqKTtcblx0XG5cdGNvbnRyb2xWaWV3LnNldENvbnRyb2xzKG9iaik7XG59KTtcbnNvY2tldC5vbignc2NvcGUtc2xpZGVyJywgYXJncyA9PiBzbGlkZXJWaWV3LmVtaXQoJ3NldC1zbGlkZXInLCBhcmdzKSApO1xuc29ja2V0Lm9uKCdkcm9wcGVkLWNvdW50JywgY291bnQgPT4ge1xuXHQkKCcjZHJvcHBlZEZyYW1lcycpLmh0bWwoY291bnQpO1xuXHRpZiAoY291bnQgPiAxMClcblx0XHQkKCcjZHJvcHBlZEZyYW1lcycpLmNzcygnY29sb3InLCAncmVkJyk7XG5cdGVsc2Vcblx0XHQkKCcjZHJvcHBlZEZyYW1lcycpLmNzcygnY29sb3InLCAnYmxhY2snKTtcbn0pO1xuXG5iZWxhU29ja2V0Lm9uKCdjcHUtdXNhZ2UnLCBDUFUpO1xuXG4vLyBtb2RlbCBldmVudHNcbnNldHRpbmdzLm9uKCdzZXQnLCAoZGF0YSwgY2hhbmdlZEtleXMpID0+IHtcblx0aWYgKGNoYW5nZWRLZXlzLmluZGV4T2YoJ2ZyYW1lV2lkdGgnKSAhPT0gLTEpe1xuXHRcdHZhciB4VGltZUJhc2UgPSBNYXRoLm1heChNYXRoLmZsb29yKDEwMDAqKGRhdGEuZnJhbWVXaWR0aC84KS9kYXRhLnNhbXBsZVJhdGUpLCAxKTtcblx0XHRzZXR0aW5ncy5zZXRLZXkoJ3hUaW1lQmFzZScsIHhUaW1lQmFzZSk7XG5cdFx0c29ja2V0LmVtaXQoJ3NldHRpbmdzLWV2ZW50JywgJ2ZyYW1lV2lkdGgnLCBkYXRhLmZyYW1lV2lkdGgpXG5cdH0gZWxzZSB7XG5cdFx0d29ya2VyLnBvc3RNZXNzYWdlKHtcblx0XHRcdGV2ZW50XHRcdDogJ3NldHRpbmdzJyxcblx0XHRcdHNldHRpbmdzXHQ6IGRhdGFcblx0XHR9KTtcblx0fVxufSk7XG5cbi8vIHdpbmRvdyBldmVudHNcbiQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xuXHRzZXR0aW5ncy5zZXRLZXkoJ2ZyYW1lV2lkdGgnLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG5cdHNldHRpbmdzLnNldEtleSgnZnJhbWVIZWlnaHQnLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xufSk7XG5cbiQoJyNzY29wZScpLm9uKCdtb3VzZW1vdmUnLCBlID0+IHtcblx0aWYgKHNldHRpbmdzLmdldEtleSgncGxvdE1vZGUnKSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdHZhciBwbG90TW9kZSA9IHNldHRpbmdzLmdldEtleSgncGxvdE1vZGUnKTtcblx0dmFyIHNjYWxlID0gc2V0dGluZ3MuZ2V0S2V5KCdkb3duU2FtcGxpbmcnKSAvIHNldHRpbmdzLmdldEtleSgndXBTYW1wbGluZycpO1xuXHR2YXIgeCwgeTtcblx0aWYgKHBsb3RNb2RlID09IDApe1xuXHRcdHggPSAoMTAwMCpzY2FsZSooZS5jbGllbnRYLXdpbmRvdy5pbm5lcldpZHRoLzIpL3NldHRpbmdzLmdldEtleSgnc2FtcGxlUmF0ZScpKS50b1ByZWNpc2lvbig0KSsnbXMnO1xuXHRcdHkgPSAoMSAtIDIqZS5jbGllbnRZL3dpbmRvdy5pbm5lckhlaWdodCkudG9QcmVjaXNpb24oMyk7XG5cdH0gZWxzZSBpZiAocGxvdE1vZGUgPT0gMSl7XG5cdFx0aWYgKHBhcnNlSW50KHNldHRpbmdzLmdldEtleSgnRkZUWEF4aXMnKSkgPT09IDApe1xuXHRcdFx0eCA9IHBhcnNlSW50KHNldHRpbmdzLmdldEtleSgnc2FtcGxlUmF0ZScpKmUuY2xpZW50WC8oMip3aW5kb3cuaW5uZXJXaWR0aCpzY2FsZSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR4ID0gcGFyc2VJbnQoTWF0aC5wb3coTWF0aC5FLCAtKE1hdGgubG9nKDEvd2luZG93LmlubmVyV2lkdGgpKSplLmNsaWVudFgvd2luZG93LmlubmVyV2lkdGgpICogKHNldHRpbmdzLmdldEtleSgnc2FtcGxlUmF0ZScpLygyKndpbmRvdy5pbm5lcldpZHRoKSkgKiAoc2V0dGluZ3MuZ2V0S2V5KCd1cFNhbXBsaW5nJykvKHNldHRpbmdzLmdldEtleSgnZG93blNhbXBsaW5nJykpKSk7XG5cdFx0fVxuXHRcdGlmICh4ID4gMTUwMCkgeCA9ICh4LzEwMDApICsgJ2toeic7XG5cdFx0ZWxzZSB4ICs9ICdoeic7XG5cdFx0eSA9ICgxIC0gZS5jbGllbnRZL3dpbmRvdy5pbm5lckhlaWdodCkudG9QcmVjaXNpb24oMyk7XG5cdH1cblx0JCgnI3Njb3BlTW91c2VYJykuaHRtbCgneDogJyt4KTtcblx0JCgnI3Njb3BlTW91c2VZJykuaHRtbCgneTogJyt5KTtcbn0pO1xuXG4vLyBDUFUgdXNhZ2VcbmZ1bmN0aW9uIENQVShkYXRhKXtcblx0dmFyIGlkZSA9IChkYXRhLnN5bnRheENoZWNrUHJvY2VzcyB8fCAwKSArIChkYXRhLmJ1aWxkUHJvY2VzcyB8fCAwKSArIChkYXRhLm5vZGUgfHwgMCk7XG5cdHZhciBiZWxhID0gMCwgcm9vdENQVSA9IDE7XG5cdFxuXHRpZiAoZGF0YS5iZWxhICE9IDAgJiYgZGF0YS5iZWxhICE9PSB1bmRlZmluZWQpe1xuXHRcblx0XHQvLyBleHRyYWN0IHRoZSBkYXRhIGZyb20gdGhlIG91dHB1dFxuXHRcdHZhciBsaW5lcyA9IGRhdGEuYmVsYS5zcGxpdCgnXFxuJyk7XG5cdFx0dmFyIHRhc2tEYXRhID0gW10sIG91dHB1dCA9IFtdO1xuXHRcdGZvciAodmFyIGo9MDsgajxsaW5lcy5sZW5ndGg7IGorKyl7XG5cdFx0XHR0YXNrRGF0YS5wdXNoKFtdKTtcblx0XHRcdGxpbmVzW2pdID0gbGluZXNbal0uc3BsaXQoJyAnKTtcblx0XHRcdGZvciAodmFyIGs9MDsgazxsaW5lc1tqXS5sZW5ndGg7IGsrKyl7XG5cdFx0XHRcdGlmIChsaW5lc1tqXVtrXSl7XG5cdFx0XHRcdFx0dGFza0RhdGFbal0ucHVzaChsaW5lc1tqXVtrXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XHRcblx0XHRmb3IgKHZhciBqPTA7IGo8dGFza0RhdGEubGVuZ3RoOyBqKyspe1xuXHRcdFx0aWYgKHRhc2tEYXRhW2pdLmxlbmd0aCl7XG5cdFx0XHRcdHZhciBwcm9jID0ge1xuXHRcdFx0XHRcdCduYW1lJ1x0OiB0YXNrRGF0YVtqXVs3XSxcblx0XHRcdFx0XHQnY3B1J1x0OiB0YXNrRGF0YVtqXVs2XSxcblx0XHRcdFx0XHQnbXN3J1x0OiB0YXNrRGF0YVtqXVsyXSxcblx0XHRcdFx0XHQnY3N3J1x0OiB0YXNrRGF0YVtqXVszXVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAocHJvYy5uYW1lID09PSAnUk9PVCcpIHJvb3RDUFUgPSBwcm9jLmNwdSowLjAxO1xuXHRcdFx0XHQvLyBpZ25vcmUgdW5pbnRlcmVzdGluZyBkYXRhXG5cdFx0XHRcdGlmIChwcm9jICYmIHByb2MubmFtZSAmJiBwcm9jLm5hbWUgIT09ICdST09UJyAmJiBwcm9jLm5hbWUgIT09ICdOQU1FJyAmJiBwcm9jLm5hbWUgIT09ICdJUlEyOTonKXtcblx0XHRcdFx0XHRvdXRwdXQucHVzaChwcm9jKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAodmFyIGo9MDsgajxvdXRwdXQubGVuZ3RoOyBqKyspe1xuXHRcdFx0aWYgKG91dHB1dFtqXS5jcHUpe1xuXHRcdFx0XHRiZWxhICs9IHBhcnNlRmxvYXQob3V0cHV0W2pdLmNwdSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YmVsYSArPSBkYXRhLmJlbGFMaW51eCAqIHJvb3RDUFU7XHRcblxuXHR9XG5cdFxuXHQkKCcjaWRlLWNwdScpLmh0bWwoJ2lkZTogJysoaWRlKnJvb3RDUFUpLnRvRml4ZWQoMSkrJyUnKTtcblx0JCgnI2JlbGEtY3B1JykuaHRtbCgnYmVsYTogJysoIGJlbGEgPyBiZWxhLnRvRml4ZWQoMSkrJyUnIDogJy0tJykpO1xuXHRcblx0aWYgKGJlbGEgJiYgKGlkZSpyb290Q1BVICsgYmVsYSkgPiA4MCl7XG5cdFx0JCgnI2lkZS1jcHUsICNiZWxhLWNwdScpLmNzcygnY29sb3InLCAncmVkJyk7XG5cdH0gZWxzZSB7XG5cdFx0JCgnI2lkZS1jcHUsICNiZWxhLWNwdScpLmNzcygnY29sb3InLCAnYmxhY2snKTtcblx0fVxuXHRcbn1cblxuLy8gcGxvdHRpbmdcbntcblx0XG5cdGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcGUnKTtcblx0bGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXHRjdHgubGluZVdpZHRoID0gMjtcblx0XG5cdGxldCB3aWR0aCwgaGVpZ2h0LCBudW1DaGFubmVscywgY2hhbm5lbENvbmZpZyA9IFtdLCB4T2ZmID0gMCwgdHJpZ2dlckNoYW5uZWwgPSAwLCB0cmlnZ2VyTGV2ZWwgPSAwLCB4T2Zmc2V0ID0gMCwgdXBTYW1wbGluZyA9IDE7O1xuXHRzZXR0aW5ncy5vbignY2hhbmdlJywgKGRhdGEsIGNoYW5nZWRLZXlzKSA9PiB7XG5cdFx0aWYgKGNoYW5nZWRLZXlzLmluZGV4T2YoJ2ZyYW1lV2lkdGgnKSAhPT0gLTEgfHwgY2hhbmdlZEtleXMuaW5kZXhPZignZnJhbWVIZWlnaHQnKSAhPT0gLTEpe1xuXHRcdFx0Y2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0XHR3aWR0aCA9IGNhbnZhcy53aWR0aDtcblx0XHRcdGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdFx0XHRoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoY2hhbmdlZEtleXMuaW5kZXhPZignbnVtQ2hhbm5lbHMnKSAhPT0gLTEpe1xuXHRcdFx0bnVtQ2hhbm5lbHMgPSBkYXRhLm51bUNoYW5uZWxzO1xuXHRcdH1cblx0XHRpZiAoY2hhbmdlZEtleXMuaW5kZXhPZigndHJpZ2dlckNoYW5uZWwnKSAhPT0gLTEpe1xuXHRcdFx0dHJpZ2dlckNoYW5uZWwgPSBkYXRhLnRyaWdnZXJDaGFubmVsO1xuXHRcdH1cblx0XHRpZiAoY2hhbmdlZEtleXMuaW5kZXhPZigndHJpZ2dlckxldmVsJykgIT09IC0xKXtcblx0XHRcdHRyaWdnZXJMZXZlbCA9IGRhdGEudHJpZ2dlckxldmVsO1xuXHRcdH1cblx0XHRpZiAoY2hhbmdlZEtleXMuaW5kZXhPZigneE9mZnNldCcpICE9PSAtMSl7XG5cdFx0XHR4T2Zmc2V0ID0gZGF0YS54T2Zmc2V0O1xuXHRcdH1cblx0XHRpZiAoY2hhbmdlZEtleXMuaW5kZXhPZigndXBTYW1wbGluZycpICE9PSAtMSl7XG5cdFx0XHR1cFNhbXBsaW5nID0gZGF0YS51cFNhbXBsaW5nO1xuXHRcdH1cblx0fSk7XG5cdGNoYW5uZWxWaWV3Lm9uKCdjaGFubmVsQ29uZmlnJywgKGNvbmZpZykgPT4gY2hhbm5lbENvbmZpZyA9IGNvbmZpZyApO1xuXHRcblx0bGV0IGZyYW1lLCBsZW5ndGgsIHBsb3QgPSBmYWxzZTtcblxuXHR3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuXHRcdGZyYW1lID0gZS5kYXRhO1xuXHRcdGxlbmd0aCA9IE1hdGguZmxvb3IoZnJhbWUubGVuZ3RoL251bUNoYW5uZWxzKTtcblx0XHQvLyBpZiBzY29wZSBpcyBwYXVzZWQsIGRvbid0IHNldCB0aGUgcGxvdCBmbGFnXG5cdFx0cGxvdCA9ICFwYXVzZWQ7XG5cdFx0XG5cdFx0Ly8gaW50ZXJwb2xhdGUgdGhlIHRyaWdnZXIgc2FtcGxlIHRvIGdldCB0aGUgc3ViLXBpeGVsIHgtb2Zmc2V0XG5cdFx0aWYgKHNldHRpbmdzLmdldEtleSgncGxvdE1vZGUnKSA9PSAwKXtcblx0XHRcdGlmICh1cFNhbXBsaW5nID09IDEpe1xuXHRcdFx0XHRsZXQgb25lID0gTWF0aC5hYnMoZnJhbWVbTWF0aC5mbG9vcih0cmlnZ2VyQ2hhbm5lbCpsZW5ndGgrbGVuZ3RoLzIpK3hPZmZzZXQtMV0gKyAoaGVpZ2h0LzIpICogKChjaGFubmVsQ29uZmlnW3RyaWdnZXJDaGFubmVsXS55T2Zmc2V0ICsgdHJpZ2dlckxldmVsKS9jaGFubmVsQ29uZmlnW3RyaWdnZXJDaGFubmVsXS55QW1wbGl0dWRlIC0gMSkpO1xuXHRcdFx0XHRsZXQgdHdvID0gTWF0aC5hYnMoZnJhbWVbTWF0aC5mbG9vcih0cmlnZ2VyQ2hhbm5lbCpsZW5ndGgrbGVuZ3RoLzIpK3hPZmZzZXRdICsgKGhlaWdodC8yKSAqICgoY2hhbm5lbENvbmZpZ1t0cmlnZ2VyQ2hhbm5lbF0ueU9mZnNldCArIHRyaWdnZXJMZXZlbCkvY2hhbm5lbENvbmZpZ1t0cmlnZ2VyQ2hhbm5lbF0ueUFtcGxpdHVkZSAtIDEpKTtcblx0XHRcdFx0eE9mZiA9IChvbmUvKG9uZSt0d28pLTEuNSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8PSh1cFNhbXBsaW5nKjIpOyBpKyspe1xuXHRcdFx0XHRcdGxldCBvbmUgPSBmcmFtZVtNYXRoLmZsb29yKHRyaWdnZXJDaGFubmVsKmxlbmd0aCtsZW5ndGgvMikreE9mZnNldCp1cFNhbXBsaW5nLWldICsgKGhlaWdodC8yKSAqICgoY2hhbm5lbENvbmZpZ1t0cmlnZ2VyQ2hhbm5lbF0ueU9mZnNldCArIHRyaWdnZXJMZXZlbCkvY2hhbm5lbENvbmZpZ1t0cmlnZ2VyQ2hhbm5lbF0ueUFtcGxpdHVkZSAtIDEpO1xuXHRcdFx0XHRcdGxldCB0d28gPSBmcmFtZVtNYXRoLmZsb29yKHRyaWdnZXJDaGFubmVsKmxlbmd0aCtsZW5ndGgvMikreE9mZnNldCp1cFNhbXBsaW5nK2ldICsgKGhlaWdodC8yKSAqICgoY2hhbm5lbENvbmZpZ1t0cmlnZ2VyQ2hhbm5lbF0ueU9mZnNldCArIHRyaWdnZXJMZXZlbCkvY2hhbm5lbENvbmZpZ1t0cmlnZ2VyQ2hhbm5lbF0ueUFtcGxpdHVkZSAtIDEpO1xuXHRcdFx0XHRcdGlmICgob25lID4gdHJpZ2dlckxldmVsICYmIHR3byA8IHRyaWdnZXJMZXZlbCkgfHwgKG9uZSA8IHRyaWdnZXJMZXZlbCAmJiB0d28gPiB0cmlnZ2VyTGV2ZWwpKXtcblx0XHRcdFx0XHRcdHhPZmYgPSBpKihNYXRoLmFicyhvbmUpLyhNYXRoLmFicyhvbmUpK01hdGguYWJzKHR3bykpLTEpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvL2NvbnNvbGUubG9nKHhPZmYpO1xuXHRcdH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIHBsb3RMb29wKCl7XG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHBsb3RMb29wKTtcblx0XHRcblx0XHRpZiAocGxvdCl7XG5cdFx0XG5cdFx0XHRwbG90ID0gZmFsc2U7XG5cdFx0XHRjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXHRcdFx0Ly9jb25zb2xlLmxvZygncGxvdHRpbmcnKTtcblx0XHRcdFxuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPG51bUNoYW5uZWxzOyBpKyspe1xuXG5cdFx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGNoYW5uZWxDb25maWdbaV0uY29sb3I7XG5cdFxuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdGN0eC5tb3ZlVG8oMCwgZnJhbWVbaSAqIGxlbmd0aF0gKyB4T2ZmKihmcmFtZVtpICogbGVuZ3RoICsgMV0gLSBmcmFtZVtpICogbGVuZ3RoXSkpO1xuXHRcdFx0XHRcblx0XHRcdFx0Zm9yICh2YXIgaj0xOyAoai14T2ZmKTwobGVuZ3RoKTsgaisrKXtcblx0XHRcdFx0XHRjdHgubGluZVRvKGoteE9mZiwgZnJhbWVbaitpKmxlbmd0aF0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vY3R4LmxpbmVUbyhsZW5ndGgsIGZyYW1lW2xlbmd0aCooaSsxKS0xXSk7XG5cdFx0XHRcdC8vaWYgKCFpKSBjb25zb2xlLmxvZyhsZW5ndGgsIGoteE9mZi0xKTtcblxuXHRcdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHRyaWdnZXJTdGF0dXMoKTtcblx0XHRcblx0XHR9IC8qZWxzZSB7XG5cdFx0XHRjb25zb2xlLmxvZygnbm90IHBsb3R0aW5nJyk7XG5cdFx0fSovXG5cdFx0XG5cdH1cblx0cGxvdExvb3AoKTtcblx0XG5cdC8vIHVwZGF0ZSB0aGUgc3RhdHVzIGluZGljYXRvciB3aGVuIHRyaWdnZXJlZFxuXHRsZXQgdHJpZ2dlclRpbWVvdXQ7IFxuXHRsZXQgaW5hY3RpdmVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0aWYgKCFvbmVTaG90ICYmICFwYXVzZWQpIGluYWN0aXZlT3ZlcmxheS5hZGRDbGFzcygnaW5hY3RpdmUtb3ZlcmxheS12aXNpYmxlJyk7XG5cdH0sIDUwMDApO1xuXHRsZXQgc2NvcGVTdGF0dXMgPSAkKCcjc2NvcGVTdGF0dXMnKTtcblx0bGV0IGluYWN0aXZlT3ZlcmxheSA9ICQoJyNpbmFjdGl2ZS1vdmVybGF5Jyk7XG5cdGZ1bmN0aW9uIHRyaWdnZXJTdGF0dXMoKXtcblx0XG5cdFx0c2NvcGVTdGF0dXMucmVtb3ZlQ2xhc3MoJ3Njb3BlLXN0YXR1cy13YWl0aW5nJyk7XG5cdFx0aW5hY3RpdmVPdmVybGF5LnJlbW92ZUNsYXNzKCdpbmFjdGl2ZS1vdmVybGF5LXZpc2libGUnKTtcblx0XHRcdFxuXHRcdC8vIGhhY2sgdG8gcmVzdGFydCB0aGUgZmFkaW5nIGFuaW1hdGlvbiBpZiBpdCBpcyBpbiBwcm9ncmVzc1xuXHRcdGlmIChzY29wZVN0YXR1cy5oYXNDbGFzcygnc2NvcGUtc3RhdHVzLXRyaWdnZXJlZCcpKXtcblx0XHRcdHNjb3BlU3RhdHVzLnJlbW92ZUNsYXNzKCdzY29wZS1zdGF0dXMtdHJpZ2dlcmVkJyk7XG5cdFx0XHR2b2lkIHNjb3BlU3RhdHVzWzBdLm9mZnNldFdpZHRoO1xuXHRcdH1cblx0XHRcblx0XHRzY29wZVN0YXR1cy5hZGRDbGFzcygnc2NvcGUtc3RhdHVzLXRyaWdnZXJlZCcpLmh0bWwoJ3RyaWdnZXJlZCcpO1xuXHRcdFxuXHRcdGlmIChvbmVTaG90KXtcblx0XHRcdG9uZVNob3QgPSBmYWxzZTtcblx0XHRcdHBhdXNlZCA9IHRydWU7XG5cdFx0XHQkKCcjcGF1c2VCdXR0b24nKS5odG1sKCdyZXN1bWUnKTtcblx0XHRcdHNjb3BlU3RhdHVzLnJlbW92ZUNsYXNzKCdzY29wZS1zdGF0dXMtdHJpZ2dlcmVkJykuYWRkQ2xhc3MoJ3Njb3BlLXN0YXR1cy13YWl0aW5nJykuaHRtbCgncGF1c2VkJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0cmlnZ2VyVGltZW91dCkgY2xlYXJUaW1lb3V0KHRyaWdnZXJUaW1lb3V0KTtcblx0XHRcdHRyaWdnZXJUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdGlmICghb25lU2hvdCAmJiAhcGF1c2VkKSBzY29wZVN0YXR1cy5yZW1vdmVDbGFzcygnc2NvcGUtc3RhdHVzLXRyaWdnZXJlZCcpLmFkZENsYXNzKCdzY29wZS1zdGF0dXMtd2FpdGluZycpLmh0bWwoJ3dhaXRpbmcnKTtcblx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XG5cdFx0XHRpZiAoaW5hY3RpdmVUaW1lb3V0KSBjbGVhclRpbWVvdXQoaW5hY3RpdmVUaW1lb3V0KTtcblx0XHRcdGluYWN0aXZlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRpZiAoIW9uZVNob3QgJiYgIXBhdXNlZCkgaW5hY3RpdmVPdmVybGF5LmFkZENsYXNzKCdpbmFjdGl2ZS1vdmVybGF5LXZpc2libGUnKTtcblx0XHRcdH0sIDUwMDApO1xuXHRcdH1cblx0fVxuXHRcblx0bGV0IHNhdmVDYW52YXNEYXRhID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlQ2FudmFzRGF0YScpO1x0XHRcblx0c2F2ZUNhbnZhc0RhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuXG5cdFx0bGV0IGRvd25TYW1wbGluZyA9IHNldHRpbmdzLmdldEtleSgnZG93blNhbXBsaW5nJyk7XG5cdFx0bGV0IHVwU2FtcGxpbmcgPSBzZXR0aW5ncy5nZXRLZXkoJ3VwU2FtcGxpbmcnKTtcblx0XHRsZXQgc2FtcGxlUmF0ZSA9IHNldHRpbmdzLmdldEtleSgnc2FtcGxlUmF0ZScpO1xuXHRcdGxldCBwbG90TW9kZSA9IHNldHRpbmdzLmdldEtleSgncGxvdE1vZGUnKTtcblx0XHRsZXQgc2NhbGUgPSBkb3duU2FtcGxpbmcvdXBTYW1wbGluZztcblx0XHRsZXQgRkZUQXhpcyA9IHNldHRpbmdzLmdldEtleSgnRkZUWEF4aXMnKTtcblx0XHRcblx0XHRjb25zb2xlLmxvZyhGRlRBeGlzKVxuXHRcdFx0XHRcblx0XHRsZXQgb3V0ID0gXCJkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsXCI7XG5cdFx0XG5cdFx0Zm9yIChsZXQgaT0wOyBpPGxlbmd0aDsgaSsrKXtcblx0XHRcblx0XHRcdGlmIChwbG90TW9kZSA9PT0gMCl7XHRcdC8vIHRpbWUgZG9tYWluXG5cdFx0XHRcdG91dCArPSBzY2FsZSppL3NhbXBsZVJhdGU7XG5cdFx0XHR9IGVsc2UgaWYgKHBsb3RNb2RlID09PSAxKSB7XHQvLyBGRlRcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChwYXJzZUludChzZXR0aW5ncy5nZXRLZXkoJ0ZGVFhBeGlzJykpID09PSAwKXsgLy8gbGluZWFyIHgtYXhpc1xuXHRcdFx0XHRcdG91dCArPSBzYW1wbGVSYXRlKmkvKDIqbGVuZ3RoKnNjYWxlKTtcblx0XHRcdFx0XHQvLyB4ID0gcGFyc2VJbnQoc2V0dGluZ3MuZ2V0S2V5KCdzYW1wbGVSYXRlJykqZS5jbGllbnRYLygyKndpbmRvdy5pbm5lcldpZHRoKnNjYWxlKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b3V0ICs9IE1hdGgucG93KE1hdGguRSwgLShNYXRoLmxvZygxL2xlbmd0aCkpKmkvbGVuZ3RoKSAqIHNhbXBsZVJhdGUvKDIqbGVuZ3RoKSArIHVwU2FtcGxpbmcvZG93blNhbXBsaW5nO1xuXHRcdFx0XHRcdC8vIHggPSBwYXJzZUludChNYXRoLnBvdyhNYXRoLkUsIC0oTWF0aC5sb2coMS93aW5kb3cuaW5uZXJXaWR0aCkpKmUuY2xpZW50WC93aW5kb3cuaW5uZXJXaWR0aCkgKiAoc2V0dGluZ3MuZ2V0S2V5KCdzYW1wbGVSYXRlJykvKDIqd2luZG93LmlubmVyV2lkdGgpKSAqIChzZXR0aW5ncy5nZXRLZXkoJ3VwU2FtcGxpbmcnKS8oc2V0dGluZ3MuZ2V0S2V5KCdkb3duU2FtcGxpbmcnKSkpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Zm9yIChsZXQgaj0wOyBqPG51bUNoYW5uZWxzOyBqKyspe1xuXHRcdFx0XHRvdXQgKz0gJywnKyAoICggMSAtIGZyYW1lW2oqbGVuZ3RoICsgaV0gLyAoaGVpZ2h0LzIpICkgKiBjaGFubmVsQ29uZmlnW2pdLnlBbXBsaXR1ZGUgLSBjaGFubmVsQ29uZmlnW2pdLnlPZmZzZXQgKTtcblx0XHRcdH1cblx0XHRcdG91dCArPSAnXFxuJztcblx0XHR9XG5cblxuXHRcdHRoaXMuaHJlZiA9IGVuY29kZVVSSShvdXQpO1xuXHR9KTtcblx0XG59XG5cblxuXG5cblxuXG5cblxuXG4iXX0="}